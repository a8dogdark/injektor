mads 2.1.0
Source: inj.asm
     1 				;	OPT NO LIST
     2 				;
     3 				; GRABADOR SISTEMA injektor con irg
     4 				;
     5 				;
     6 = 291D			@LEN =  LEN+2
     7 = 291F			@LBAF = LEN+4
     8 = 2920			PPILA = LEN+5
     9 = 00CB			PCRSR = $CB
    10 = 00CB			ORG =   PCRSR
    11 = 0058			SVMSC = $58
    12 = 0054			POSXY = $54
    13 = 4000			LENGHT = $4000
    14 = 4000			BAFER = $4000
    15 = 00D4			FR0 =   $D4
    16 = 00F2			CIX =   $F2
    17 = D800			AFP =   $D800
    18 = D9AA			IFP =   $D9AA
    19 = D9D2			FPI =   $D9D2
    20 = D8E6			FASC =  $D8E6
    21 = DA44			ZFR0 =  $DA44
    22 = DB28			FDIV =  $DB28
    23 = DADB			FMUL =  $DADB
    24 = DDB6			FMOVE = $DDB6
    25 = 00F3			INBUFF = $F3
    26 = 0580			LBUFF = $0580
    27 = 0373			LLOAD = PAG7-LOAD
    28 = 00E0			LAUTO = PAG4-PAG7
    29 = 0001			BL4 =   LAUTO/128
    30 = 0060			LAST =  LAUTO-128*BL4
    31 = 0047			GENDAT = $47
    32 				;
    33 					org $2000
    34 					icl 'paginas/kem.asm'
Source: kem.asm
     1 				kkem
     2 FFFF> 2000-3088> 78	    SEI
     3 2001 AD 0E D4		    LDA $D40E
     4 2004 48			    PHA
     5 2005 A9 00		    lda #$00
     6 2007 8D 0E D4		    sta $D40E
     7 200A A8			    tay
     8 200B			kloop
     9 200B B9 00 C0		    LDA $C000,Y
    10 200E CE 01 D3		    DEC $D301
    11 2011 99 00 C0		    STA $C000,Y
    12 2014 EE 01 D3		    INC $D301
    13 2017 C8			    INY
    14 2018 D0 F1		    BNE kloop
    15 201A EE 0D 20		    INC kloop+2
    16 201D EE 13 20		    inc kloop+8
    17 2020			kmove
    18 2020 AD 0D 20			lda kloop+2   
    19 2023 F0 0E		    BEQ @kexit
    20 2025 C9 D0		    CMP #$D0
    21 2027 D0 E2		    BNE kloop
    22 2029 A9 D8		    LDA #$D8
    23 202B 8D 0D 20		    STA kloop+2
    24 202E 8D 13 20		    sta kloop+8
    25 2031 D0 D8		    BNE kloop
    26 2033			@kexit
    27 2033 68			    PLA
    28 2034 8D 0E D4		    STA $D40E
    29 2037 58			    CLI
    30 2038 CE 01 D3		    dec $d301
    31 203B 60			    RTS
    35 203C				icl 'paginas/injektor.asm'
Source: injektor.asm
     1 203C A2 FF		PREINJ      ldx #$FF
     2 203E A9 60		            lda #$60
     3 2040 8F FC FD		            sax $FDFC
     4 2043 8F 44 02		            sax $0244
     5 2046 A4 62		            ldy $0062
     6 2048 A9 02		            lda #$02
     7 204A 99 15 EE		            sta $EE15,Y
     8 204D A9 48		            lda #$48
     9 204F 8F 89 00		            sax.w $0089
    10 2052 99 8F FE		            sta $FE8F,Y
    11 2055 A9 03		            lda #$03
    12 2057 8F 8A 00		            sax.w $008A
    13 205A 99 8D FE		            sta $FE8D,Y
    14 205D A9 34		            lda #$34
    15 205F 8F D7 FD		            sax $FDD7
    16 2062 A9 FF		            lda #$FF
    17 2064 8F 52 FE		            sax $FE52
    18 2067 A9 03		            lda #$03
    19 2069 8F 4D FE		            sax $FE4D
    20 206C A9 81		            lda #$81
    21 206E 8F 48 FE		            sax $FE48
    22 2071 A9 CC		            lda #$CC
    23 2073 8F A3 EB		            sax $EBA3
    24 2076 8F 41 FD		            sax $FD41
    25 2079 A9 05		            lda #$05
    26 207B 8F A8 EB		            sax $EBA8
    27 207E 8F 46 FD		            sax $FD46
    28 2081 A9 08		            lda #$08
    29 2083 8F 26 EC		            sax $EC26
    30 2086 4C 34 FD		            jmp $FD34
    31 2089 A2 FF		INJEKTOR    ldx #$FF
    32 208B A9 D9		            lda #$D9
    33 208D 8F A3 EB		            sax $EBA3
    34 2090 8F 41 FD		            sax $FD41
    35 2093 E8			            inx
    36 2094 8F A8 EB		            sax $EBA8
    37 2097 8F 46 FD		            sax $FD46
    38 209A 8F 26 EC		            sax $EC26
    39 209D A6 62		            ldx $0062
    40 209F A9 20		            lda #$20
    41 20A1 9D 8F FE		            sta $FE8F,X
    42 20A4 A9 01		            lda #$01
    43 20A6 9D 8D FE		            sta $FE8D,X
    44 20A9 4C 34 FD		            jmp $FD34
    36 20AC			LOAD	
    37 20AC				icl "paginas/PLOADER.ASM"
Source: PLOADER.ASM
     1 				;load_init =$CBFE
     2 = CC00			load_init =$CC00
     3 				;
     4 = 0373			l_load = [[.len loader]+24]
     5
     6 20AC			.proc	loader,load_init
     7 = 0700			BAFER = $0700
     8 = 0800			BUFAUX = $0800
     9 = 0813			?RUTINA = BUFAUX+JUMP-RUTINA
    10 				;
    11 					;ORG $CC00
    12 CC00 55 55			.by $55,$55
    13 CC02 A0 00		    ldy #$00
    14 CC04 8C 44 02		    STY $0244
    15 CC07 C8			    INY
    16 CC08 84 09		    STY $09
    17 CC0A 20 14 CF		    JSR RECUPERO
    18 CC0D 4C 75 CE		    JMP START
    19 CC10			?INICIO
    20 CC10 20 F9 CD			JSR GBYTE
    21 CC13 8D 9C CE			STA MEMORY+1
    22 CC16 20 F9 CD			JSR GBYTE
    23 CC19 8D 9D CE			STA MEMORY+2
    24 CC1C 2D 9C CE			AND MEMORY+1
    25 CC1F C9 FF			CMP #$FF
    26 CC21 F0 ED			BEQ ?INICIO
    27 CC23 60				RTS
    28 CC24			NBYTES
    29 CC24 FC			    .BY 252   ;$FC
    30 CC25			FLAGY
    31 CC25 00			    .BY 0
    32 CC26			FINISH
    33 CC26 00 00		    .BY 0,0
    34 CC28			LSIOV
    35 CC28 60 00 52 40		    .BY $60,$00,$52,$40
    36 CC2C 00 07		    .WO BAFER
    37 CC2E 23 00		    .BY $23,$00
    38 CC30 00 01		    .WO $0100
    39 CC32 00 80		    .BY $00,$80
    40 CC34			DLIST
    41 CC34 70 70 70 46		    .BY $70,$70,$70,$46
    42 CC38 54 CC		    .WO MENSAJE
    43 CC3A 70 70 02 70 70	    .BY $70,$70,$02,$70,$70
    44 CC3F 70 70 70 70 06 70 +     .BY $70,$70,$70,$70,$06,$70,$70,$06,$70,$06
    45 CC49 70 70 70 70 70 42	    .BY $70,$70,$70,$70,$70,$42
    46 CC4F			DLERR
    47 CC4F CC CC		    .WO DERROR
    48 CC51 41			    .BY $41
    49 CC52 34 CC		    .WO DLIST
    50 CC54			MENSAJE
    51 CC54 0A 0A 0A 0A 0A 0A +     .sb "********************"
    52 CC68 33 29 33 34 25 2D +     .SB "SISTEMA INJEKTOR PARA COMPUTADORES ATARI"
    53 CC90 80 80 80 80 80 80 +     .sb +128,"      presenta      "
    54 CCA4			TITLO01
    55 CCA4 0A 0A 0A 0A 0A 0A +     .SB "********************"
    56 CCB8			NAME
    57 CCB8 0A 0A 0A 0A 0A 0A +     .SB "********************"
    58 CCCC			DERROR
    59 CCCC 00 00 00 00 00 00 +     .sb "      Quedan "
    60 CCD9			CONTADOR
    61 CCD9 10 10 10 00 62 6C +     .sb "000 bloques restantes      "
    62 CCF4			merr
    63 CCF4 00 35 6E 00 6D 6F +     .SB " Un momento porfavor, buscando respaldo "
    64 CD1C			TIEMPO
    65 CD1C A9 40		    LDA #$40
    66 CD1E 8D 0E D4		    STA $D40E
    67 CD21 A2 E4		    LDX #$E4
    68 CD23 A0 5F		    LDY #$5F
    69 CD25 A9 06		    LDA #$06
    70 CD27 20 5C E4		    JSR $E45C
    71 CD2A 60			    RTS
    72 CD2B			LNEW
    73 CD2B A2 04		    LDX #$04
    74 CD2D			XNEW
    75 CD2D BD C4 02		    LDA $02C4,X
    76 CD30 9D 0A CF		    STA PFIN+1,X
    77 CD33 CA			    DEX
    78 CD34 10 F7		    BPL XNEW
    79 CD36 AD 30 02		    LDA $0230
    80 CD39 8D 0F CF		    STA PFIN+6
    81 CD3C AD 31 02		    LDA $0231
    82 CD3F 8D 10 CF		    STA PFIN+7
    83 CD42 AD 2F 02		    LDA $022F
    84 CD45 8D 11 CF		    STA PFIN+8
    85 CD48 AD F4 02		    LDA $02F4
    86 CD4B 8D 12 CF		    STA PFIN+9
    87 CD4E AD F3 02		    LDA $02F3
    88 CD51 8D 13 CF		    STA PFIN+10
    89 CD54 60			    RTS
    90 CD55			NEWL
    91 CD55 A2 04		    LDX #$04
    92 CD57			YNEW
    93 CD57 BD 0A CF		    LDA PFIN+1,X
    94 CD5A 9D C4 02		    STA $02C4,X
    95 CD5D CA			    DEX
    96 CD5E 10 F7		    BPL YNEW
    97 CD60 AD 0F CF		    LDA PFIN+6
    98 CD63 8D 30 02		    STA $0230
    99 CD66 AD 10 CF		    LDA PFIN+7
   100 CD69 8D 31 02		    STA $0231
   101 CD6C AD 11 CF		    LDA PFIN+8
   102 CD6F 8D 2F 02		    STA $022F
   103 CD72 AD 12 CF		    LDA PFIN+9
   104 CD75 8D F4 02		    STA $02F4
   105 CD78 AD 13 CF		    LDA PFIN+10
   106 CD7B 8D F3 02		    STA $02F3
   107 CD7E 60			    RTS
   108 CD7F			NEWDL
   109 CD7F A2 34		    LDX # <DLIST
   110 CD81 A9 CC		    LDA # >DLIST
   111 CD83 8E 30 02		    STX $0230
   112 CD86 8E 02 D4		    STX $D402
   113 CD89 8D 31 02		    STA $0231
   114 CD8C 8D 03 D4		    STA $D403
   115
   116 CD8F A9 22		    LDA #$22
   117 CD91 8D 2F 02		    STA $022F
   118 CD94 8D 00 D4		    STA $D400
   119
   120 CD97 A9 E0		    LDA #$E0
   121 CD99 8D F4 02		    STA $02F4
   122 CD9C 8D 09 D4		    STA $D409
   123
   124 CD9F A9 02		    LDA #$02
   125 CDA1 8D F3 02		    STA $02F3
   126 CDA4 8D 01 D4		    STA $D401
   127
   128 CDA7 A9 02		    LDA #$02
   129 				;    STA $D016
   130 CDA9 8D 18 D0		    STA $D018
   131 CDAC 8D 1A D0		    STA $D01A
   132 				;    LDX #$04
   133 				;COLORLOOP
   134 				;    LDA TABLA,X
   135 				;    STA $02C4,X
   136 				;    STA $D016,X
   137 				;    DEX
   138 				;    BPL COLORLOOP
   139 				;    LDX #<COLORDAT
   140 				;    LDY #>COLORDAT
   141 				;    LDA #$06
   142 				;    JSR $E45C
   143 				;    LDX #<?COLORDAT ;$DB
   144 				;    LDY #>?COLORDAT ;$CD
   145 				;    LDA #$C0
   146 				;    STX $0200
   147 				;    STY $0201
   148 				;    STA $D40E
   149 CDAF 60			    RTS
   150 				;COLORDAT
   151 				;    LDA #$00
   152 				;    STA NOSEPO
   153 				;    LDA $02C6
   154 				;    STA NOSEPO2
   155 				;    JMP $E45F
   156 				;?COLORDAT
   157 				;    PHA
   158 				;    TXA
   159 				;    PHA
   160 				;    LDX NOSEPO
   161 				;    LDA NOSEPO1,X
   162 				;    STA $D40A
   163 				;    STA $D01A
   164 				;    INC NOSEPO
   165 				;    PLA
   166 				;    TAX
   167 				;    PLA
   168 				;    RTI
   169 				;NOSEPO
   170 				;    .BY $00
   171 				;NOSEPO1
   172 				;    .BY $52,$72,$B4,$EA,$32
   173 				;NOSEPO2
   174 				;    .BY $FF,$FF
   175 CDB0			TABLA
   176 CDB0 28 CA 00 44 00	    .BY $28,$CA,$00,$44,$00
   177 CDB5			ERROR
   178 CDB5 A2 F4		    LDX #<merr  ;$F3
   179 CDB7 A9 CC		    LDA #>merr  ;$CC
   180 CDB9 8E 4F CC		    STX DLERR   ;$CC4E
   181 CDBC 8D 50 CC		    STA DLERR+1 ;$CC4F
   182 CDBF 20 C5 CD		    JSR VUELTA  ;$CE0E
   183 CDC2 4C 04 CE			JMP GRAB
   184 CDC5			VUELTA
   185 CDC5 A9 3C		    LDA #$3C
   186 CDC7 8D 02 D3		    STA $D302
   187 CDCA 18			    CLC
   188 CDCB A5 14		    LDA $14
   189 CDCD 69 1E		    ADC #$1E
   190 CDCF			SEARCH
   191 CDCF C5 14			CMP $14
   192 CDD1 D0 FC			BNE SEARCH
   193 CDD3 A9 34		    LDA #$34
   194 CDD5 8D 02 D3		    STA $D302
   195 CDD8 18			    CLC
   196 CDD9 A5 14		    LDA $14
   197 CDDB 69 14		    ADC #$14
   198 CDDD			SPEED
   199 CDDD C5 14		    CMP $14
   200 CDDF D0 FC		    BNE SPEED
   201 CDE1			SIGUE
   202 CDE1 A2 80		    LDX #$80
   203 CDE3 86 14		    STX $14
   204 CDE5			BUSCA
   205 CDE5 AD 0A D2		    LDA $D20A
   206 CDE8 8D 17 D0		    STA $D017
   207 CDEB AD 0F D2		    LDA $D20F
   208 CDEE 29 10		    AND #$10
   209 CDF0 F0 EF		    BEQ SIGUE
   210 CDF2 A6 14		    LDX $14
   211 CDF4 D0 EF		    BNE BUSCA
   212 CDF6 4C 7F CD		    JMP NEWDL
   213 CDF9			GBYTE
   214 CDF9 CC 24 CC		    CPY NBYTES
   215 CDFC F0 06		    BEQ GRAB
   216 CDFE 98			    TYA
   217 CDFF 59 03 07		    EOR BAFER+3,Y
   218 CE02 C8			    INY
   219 CE03 60			    RTS
   220 CE04			GRAB
   221 CE04 AD 0B D4		    LDA $D40B
   222 CE07 D0 FB		    BNE GRAB
   223 CE09 AD 09 CF		    LDA PFIN
   224 CE0C F0 54		    BEQ BYE
   225 CE0E 20 2B CD		    JSR LNEW
   226 CE11 20 7F CD		    JSR NEWDL
   227 CE14			?GRAB
   228 CE14 A2 0B		    LDX #$0B
   229 CE16			MSIO
   230 CE16 BD 28 CC		    LDA LSIOV,X
   231 CE19 9D 00 03		    STA $0300,X
   232 CE1C CA			    DEX
   233 CE1D 10 F7		    BPL MSIO
   234 CE1F 20 59 E4		    JSR $E459
   235 CE22 30 91		    BMI ERROR
   236 CE24 AD 02 07		    LDA BAFER+2
   237 CE27 CD 09 CF		    CMP PFIN
   238 CE2A 90 89		    BCC ERROR
   239 CE2C F0 03		    BEQ RETURN
   240 CE2E 4C 14 CE		    JMP ?GRAB
   241 CE31			RETURN
   242 CE31 A2 CC			LDX #<DERROR    ;$CB
   243 CE33 A9 CC		    LDA #>DERROR    ;$CC
   244 CE35 8E 4F CC		    STX DLERR   ;$CC4E
   245 CE38 8D 50 CC		    STA DLERR+1 ;$CC4F
   246 CE3B AD FF 07		    LDA BAFER+255
   247 CE3E 8D 24 CC		    STA NBYTES
   248 CE41 A2 02		    LDX #$02
   249 CE43			C01
   250 CE43 BD D9 CC		    LDA CONTADOR,X
   251 CE46 C9 10		    CMP #$10
   252 CE48 D0 08		    BNE C02
   253 CE4A A9 19		    LDA #$19
   254 CE4C 9D D9 CC		    STA CONTADOR,X
   255 CE4F CA			    DEX
   256 CE50 10 F1		    BPL C01
   257 CE52			C02
   258 CE52 DE D9 CC		    DEC CONTADOR,X
   259 CE55 20 55 CD		    JSR NEWL
   260 CE58 CE 09 CF		    DEC PFIN
   261 CE5B A0 00		    LDY #$00
   262 CE5D 84 4D		    STY $4D
   263 CE5F 4C F9 CD		    JMP GBYTE
   264 CE62			BYE
   265 CE62 20 1C CD		    JSR TIEMPO
   266 CE65 A9 4C		    LDA #$4C
   267 CE67 8D FD CE		    STA RUTINA+10   ;$CF46
   268 CE6A A9 E0		    LDA #$E0
   269 CE6C 8D 07 CF		    STA RUTINA+20   ;$CF50
   270 CE6F A2 00		    LDX #$00
   271 CE71 9A			    TXS
   272 CE72 4C E5 CE		    JMP RINIT   ;$CF2E
   273 CE75			START
   274 CE75 AC 24 CC		    LDY NBYTES
   275 CE78 20 10 CC		    JSR ?INICIO
   276 CE7B AD 9C CE		    LDA MEMORY+1
   277 CE7E AC 9D CE		    LDY MEMORY+2
   278 CE81 8D E0 02		    STA $02E0
   279 CE84			?START
   280 CE84 8C E1 02			STY $02E1
   281 CE87 A0 00			LDY #$00
   282 CE89			LOOP
   283 CE89 20 10 CC			JSR ?INICIO
   284 CE8C 20 F9 CD		    JSR GBYTE
   285 CE8F 8D 26 CC		    STA FINISH
   286 CE92 20 F9 CD		    JSR GBYTE
   287 CE95 8D 27 CC		    STA FINISH+1
   288 CE98			MBTM
   289 CE98 20 F9 CD		    JSR GBYTE
   290 CE9B			MEMORY
   291 CE9B 8D FF FF		    STA $FFFF
   292 CE9E AD 9C CE		    LDA MEMORY+1
   293 CEA1 CD 26 CC		    CMP FINISH
   294 CEA4 D0 08		    BNE OK
   295 CEA6 AD 9D CE		    LDA MEMORY+2
   296 CEA9 CD 27 CC		    CMP FINISH+1
   297 CEAC F0 0B		    BEQ VERFIN
   298 CEAE			OK
   299 CEAE EE 9C CE		    INC MEMORY+1
   300 CEB1 D0 03		    BNE NIM
   301 CEB3 EE 9D CE		    INC MEMORY+2
   302 CEB6			NIM
   303 CEB6 4C 98 CE		    JMP MBTM
   304 CEB9			VERFIN
   305 CEB9 AD E2 02		    LDA $02E2
   306 CEBC 0D E3 02		    ORA $02E3
   307 CEBF F0 C8		    BEQ LOOP
   308 CEC1 A2 F0		    LDX #$F0
   309 CEC3 9A			    TXS
   310 CEC4 8C 25 CC		    STY FLAGY
   311 CEC7 20 1C CD		    JSR TIEMPO
   312 CECA 20 55 CD		    JSR NEWL
   313 CECD 20 E5 CE		    JSR RINIT
   314 CED0 20 2B CD		    JSR LNEW
   315 CED3 20 C5 CD		    JSR VUELTA
   316 CED6 AC 25 CC		    LDY FLAGY
   317 CED9 A2 00		    LDX #$00
   318 CEDB 9A			    TXS
   319 CEDC 8E E2 02		    STX $02E2
   320 CEDF 8E E3 02		    STX $02E3
   321 CEE2 4C 89 CE		    JMP LOOP
   322 CEE5			RINIT
   323 CEE5 A2 15		    LDX #PFIN-RUTINA-1
   324 CEE7			MVRUT
   325 CEE7 BD F3 CE		    LDA RUTINA,X
   326 CEEA 9D 00 08		    STA BUFAUX,X
   327 CEED CA			    DEX
   328 CEEE 10 F7		    BPL MVRUT
   329 CEF0 4C 00 08		    JMP BUFAUX
   330 CEF3			RUTINA
   331 CEF3 A9 3C		    LDA #$3C
   332 CEF5 8D 02 D3		    STA $D302
   333 CEF8 A9 FF		    LDA #$FF
   334 CEFA 8D 01 D3		    STA $D301
   335 CEFD			?RUTINA
   336 CEFD 20 13 08			JSR BUFAUX+19
   337 CF00 A9 FE			LDA #$FE
   338 CF02 8D 01 D3			STA $D301
   339 CF05 60			    RTS
   340 CF06			JUMP
   341 CF06 6C E2 02		    JMP ($02E2)
   342 CF09			PFIN
   343 CF09 00 00 00 00 00 00	    .BY $00,$00,$00,$00,$00,$00
   344 CF0F 00 00 00 00 00	    .BY $00,$00,$00,$00,$00
   345 CF14			RECUPERO
   346 CF14 A2 00			LDX #$00
   347 CF16 A0 08			LDY #$08
   348 CF18 86 0C			STX $0C
   349 CF1A 84 0D			STY $0D
   350 CF1C AE FC CF			LDX $CFFC
   351 CF1F AC FD CF			LDY $CFFD
   352 CF22 8E 30 02			STX $0230
   353 CF25 8C 31 02			STY $0231
   354 CF28 20 2B CD		    JSR LNEW
   355 CF2B A2 13		    LDX #$13
   356 CF2D			RECUPERO2
   357 CF2D BD 5B CF		    LDA FINRECUPERO+0,X
   358 CF30 9D B8 CC		    STA NAME,X
   359 CF33 CA			    DEX
   360 CF34 10 F7		    BPL RECUPERO2
   361 CF36 A2 02		    LDX #$02
   362 CF38			RECUPERO3
   363 CF38 BD 6F CF		    LDA FINRECUPERO+20,X
   364 CF3B 9D D9 CC		    STA CONTADOR,X
   365 CF3E CA			    DEX
   366 CF3F 10 F7		    BPL RECUPERO3
   367 CF41 A2 03		    LDX #$03
   368 CF43 AD 72 CF		    LDA FINRECUPERO+23
   369 CF46 86 41		    STX $41
   370 CF48 8D 09 CF		    STA PFIN
   371 CF4B A0 7F		    LDY #$7F
   372 CF4D A9 00		    LDA #$00
   373 CF4F			RECUPERO4
   374 CF4F 99 00 04		    STA $0400,Y
   375 CF52 88			    DEY
   376 CF53 10 FA		    BPL RECUPERO4
   377 CF55 20 7F CD		    JSR NEWDL
   378 CF58 4C 55 CD		    JMP NEWL
   379 CF5B			FINRECUPERO
   380 				.endp
    38 = 2100			MENSAJE = [[loader.MENSAJE - loader] + LOAD]
    39 = 2150			TITLO01 = [[loader.TITLO01 - loader] + LOAD]
    40 2407			NME
    41 2407 2E 2E 2E 2E 2E 2E +     .BY '....................'
    42 241B			BLQ
    43 241B 2E 2E 2E		    .BYTE '...'
    44 241E			PFIN
    45 241E 00				.BY 0
    46 241F			PAG7
    47 241F				icl "paginas/P7.ASM"
Source: P7.ASM
     1 				//	icl "../base/sys_equates.m65"
     2
     3
     4 = 00E0			l_pag7=[.len pagina7]
     5
     6 241F			.proc pagina7,$0700
     7 0700			INICIO
     8 0700 00				.by 0
     9 0701 02				.by [l_pag7+127]/128
    10 0702 00 07 DD 07			.wo INICIO,FIN7
    11 0706 20 34 07			jsr KEM7
    12 0709 AE 30 02			ldx $0230
    13 070C AC 31 02			ldy $0231
    14 070F 8E FC CF			stx $CFFC
    15 0712 8C FD CF			sty $CFFD
    16 0715 A2 B1			ldx #<DLS7
    17 0717 A0 07			ldy #>DLS7
    18 0719 A9 00			lda #$00
    19 071B 8E 30 02			stx $0230
    20 071E 8E 02 D4			stx $D402
    21 0721 8C 31 02			sty $0231
    22 0724 8C 03 D4			sty $d403
    23 					;sta $41
    24 0727 20 66 07			jsr INJK7
    25 072A A2 90			ldx #$90
    26 072C A0 00			ldy #$00
    27 072E 20 CE 07			jsr PAUSA7
    28 0731 4C 00 04			jmp $0400
    29 0734			KEM7        
    30 0734 A2 C0			ldx #$C0
    31 0736 A0 00			ldy #$00
    32 0738 78				sei
    33 0739 8C 0E D4			sty $D40E
    34 073C 86 CC			stx $CC
    35 073E 84 CB			sty $CB
    36 0740			LOOP7       
    37 0740 B1 CB			lda ($CB),Y
    38 0742 CE 01 D3			dec $D301
    39 0745 91 CB			sta ($CB),Y
    40 0747 EE 01 D3			inc $D301
    41 074A C8				iny
    42 074B D0 F3			bne LOOP7
    43 074D E6 CC			inc $CC
    44 074F F0 0C			beq EXIT7
    45 0751 A5 CC			lda $CC
    46 0753 C9 D0			cmp #$D0
    47 0755 D0 E9			bne LOOP7
    48 0757 A9 D8			lda #$D8
    49 0759 85 CC			sta $CC
    50 075B D0 E3			bne LOOP7
    51 075D			EXIT7       
    52 075D CE 01 D3			dec $D301
    53 0760 58				cli
    54 0761 38				sec
    55 0762 4E 0E D4			lsr $D40E
    56 0765 60				rts
    57 0766			INJK7       
    58 0766 A2 17			ldx #$17
    59 0768			?INJK7      
    60 0768 BD 99 07			lda FINAL7,X
    61 076B 9D 3D ED			sta $ED3D,X
    62 076E CA				dex
    63 076F 10 F7			bpl ?INJK7
    64 0771 A9 12			lda #$12
    65 0773 8D E2 EB			sta $EBE2
    66 0776 A9 60			lda #$60
    67 0778 8D FC FD			sta $FDFC
    68 077B A9 04			lda #$04
    69 077D 85 2A			sta $2A
    70 077F A9 80			lda #$80
    71 0781 85 2B			sta $2B
    72 0783 A9 0C			lda #$0C
    73 0785 8D FC 02			sta $02FC
    74 0788 A6 62			ldx $62
    75 078A A9 01			lda #$01
    76 078C 9D 93 FE			sta $FE93,X
    77 078F A9 00			lda #$00
    78 0791 9D 91 FE			sta $FE91,X
    79 0794 A2 10			ldx #$10
    80 0796 4C E6 FC			jmp $FCE6
    81 0799			FINAL7      
    82 0799 8F 06 D2 8F 31 00		.by $8F,$06,$D2,$8F,$31,$00
    83 079F 8F 0F D2 18 EB 27		.by $8F,$0F,$D2,$18,$EB,$27
    84 07A5 AA 8F 04 D2 AF 32		.by $AA,$8F,$04,$D2,$AF,$32
    85 07AB 02 8F 0F D2 18 60		.by $02,$8F,$0F,$D2,$18,$60
    86 07B1			DLS7        
    87 07B1 70 70 70 46			.by $70,$70,$70,$46
    88 07B5 BA 07			.wo SHOW7
    89 07B7 41				.by $41
    90 07B8 B1 07			.wo DLS7
    91 07BA			SHOW7 
    92 07BA 0A 0A 0A 0A 0A 0A + 	.sb '********************'
    93 07CE			PAUSA7      
    94 07CE 8E 1C 02			stx $021C
    95 07D1 8C 1D 02			sty $021D
    96 07D4			?PAUSA7     
    97 07D4 AD 1C 02			lda $021C
    98 07D7 0D 1D 02			ora $021D
    99 07DA D0 F8			bne ?PAUSA7
   100 07DC 60				rts
   101 07DD			FIN7        
   102 07DD 6C 04 03			jmp ($0304)
   103 				.endp
    48 = 24D9			SHOW7 = [[pagina7.SHOW7 - pagina7] + PAG7]
    49 24FF			PAG4
    50 24FF				icl "paginas/P4.ASM"
Source: P4.ASM
     1 				//	icl "../base/sys_equates.m65"
     2
     3 				;
     4 = 03FD			pagina4_init=$03FD
     5 				//	org pagina4_init
     6 24FF			.proc pagina4,$03FD
     7 = 0047			GENDAT = $47
     8 03FD 55 55 FE			.BYTE $55,$55,$FE
     9 0400			INICIO
    10 0400 AD 01 D3			lda $D301
    11 0403 29 02			and #$02
    12 0405 F0 12			beq ERROR4
    13 0407 A2 0B			ldx #$0B
    14 0409			MOVE4
    15 0409 BD 53 04			lda SIOV4,X
    16 040C 9D 00 03			sta $0300,X
    17 040F CA				dex
    18 0410 10 F7			bpl MOVE4
    19 0412 20 59 E4			jsr $E459
    20 0415 30 02			bmi ERROR4
    21 0417 18				clc
    22 0418 60				rts
    23 0419			ERROR4      
    24 0419 AE FC CF			ldx $CFFC
    25 041C AC FD CF			ldy $CFFD
    26 041F 8E 30 02			stx $0230
    27 0422 8C 31 02			sty $0231
    28 0425 A0 00			ldy #$00
    29 0427			LER4        
    30 0427 B9 38 04			lda TABLA4,Y
    31 042A 91 58			sta ($58),Y
    32 042C C8				iny
    33 042D C0 1B			cpy #$1B
    34 042F D0 F6			bne LER4
    35 0431 A9 3C			lda #$3C
    36 0433 8D 02 D3			sta $D302
    37 0436			LOOP4       
    38 0436 D0 FE			bne LOOP4
    39 0438			TABLA4      
    40 0438 A5 B2 B2 AF B2		.sb +128,'ERROR'
    41 043D 01 01 01 01 00 23 + 	.SB '!!!! CA'
    42 0444 32 27 35 25 00 2E		.sb 'RGUE N'
    43 044A 35 25 36 21 2D 25		.sb 'UEVAME'
    44 0450 2E 34 25			.sb 'NTE'
    45 0453			SIOV4       
    46 0453 60 00 52 40			.by $60,$00,$52,$40
    47 0457 00 CC			.wo $CC00
    48 0459 23 00			.by $23,$00
    49 					;.wo $03bc		;
    50 045B 73 03			.wo l_load
    51 045D 00 80			.by $00,$80
    52 045F			FIN
    53 				.endp
    51
    52 				; -------------------------
    53 				; DEFINICION DEL DISPLAY
    54 				; PARA DIRECTORIO
    55 				; -------------------------
    56 2561			?DIR
    57 2561 70 70 70 70 70 70 +     .BYTE $70,$70,$70,$70,$70,$70,$70,$70
    58 2569 46			    .BYTE $46
    59 256A 75 27		    .WORD ???DIR
    60 256C 70 02 02 02 02 02 +     .BYTE $70,$02,$02,$02,$02,$02,$02,$02
    61 2574 02 02 41		    .BYTE $02,$02,$41
    62 2577 61 25		    .WORD ?DIR
    63 2579			ROMECEANDO
    64 2579 E4 EF E7 E4 E1 F2	    .by $E4,$EF,$E7,$E4,$E1,$F2
    65 257F EB 00 69 6E 6A 65	    .by $EB,$00,$69,$6E,$6A,$65
    66 2585 6B 74 6F 72 00 11	    .by $6B,$74,$6F,$72,$00,$11
    67 258B 13 10		    .by $13,$10
    68 258D			DLS
    69 258D 70 70 70		:3  .by $70
    70 2590 46			    .by $46
    71 2591 A9 25		    .WORD SHOW
    72 2593 70 70		:2	.by $70
    73 2595 02 02 02 02 02 02 + :10  .by $02
    74 259F 70 70 70 70		:4  .by $70
    75 25A3 06 70 06		    .by $06,$70,$06
    76 25A6 41			    .by $41
    77 25A7 8D 25		    .WORD DLS
    78 25A9			SHOW
    79 25A9 0A 0A 0A 0A 0A 0A +     .sb "********************"
    80 25BD 51 52 52 52 52 52 +     .sb +32,"QRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRE"
    81 25E5 7C 24 2F 27 23 2F +     .sb "|DOGCOPY INJEKTOR 130XE V1.1 ATARI 2021|"
    82 260D 41 52 52 52 52 52 +     .sb +32,"ARRRRRRRRRRRRRRRWRRRRRRRRRRRRRRRRRRRRRRD"
    83 2635 7C 34 29 34 35 2C +     .sb "|TITULO GENERAL | "
    84 2647			titgen
    85 2647 0A 0A 0A 0A 0A 0A +     .sb "******************** |"
    86 265D 7C 34 29 34 35 2C +     .sb "|TITULO JUEGO   | "
    87 266F			titgam
    88 266F 0A 0A 0A 0A 0A 0A +     .sb "******************** |"
    89 2685 7C 26 35 25 2E 34 +     .sb "|FUENTE         | "
    90 2697			FILE
    91 2697 0A 0A 0A 0A 0A 0A +     .sb "******************** |"
    92 26AD 7C 22 39 34 25 33 +     .sb "|BYTES          | "
    93 26BF			BYTES
    94 26BF 0A 0A 0A 0A 0A 00 +     .sb "*****                |"
    95 26D5 7C 22 2C 2F 31 35 +     .sb "|BLOQUES        | "
    96 26E7			BLOQUES
    97 26E7 0A 0A 0A 00 00 00 +     .sb "***                  |"
    98 26FD 7C 23 2F 30 29 21 +     .sb "|COPIAS         | "
    99 270F			TOTALCOPIAS
   100 270F 0A 00 00 00 00 00 +     .sb "*                    |"
   101 2725 5A 52 52 52 52 52 +     .sb +32,"ZRRRRRRRRRRRRRRRXRRRRRRRRRRRRRRRRRRRRRRC"
   102 274D			namegen
   103 274D 0D 0D 21 23 21 00 +     .sb "--ACA VA EL TITULO--"
   104 2761			namegam
   105 2761 0D 0D 21 23 21 00 +     .sb "--ACA VA EL TITULO--"
   106 2775			???DIR
   107 2775 00 00 00 00 00 24 +     .SB "     DIRECTORIO     "
   108 2789			??DIR
   109 2789 00 00 00 00 00 00 + :400    .SB " "
   110 2919			RY
   111 2919 00 00			.BYTE 0,0
   112 291B			LEN
   113 291B 00 00		    .BYTE 0,0
   114 291D			CONT
   115 291D 00 00		    .BYTE 0,0
   116 291F			STARTF
   117 291F 00 00		    .BYTE 0,0
   118 2921			FINISH
   119 2921 00 00		    .BYTE 0,0
   120 2923			@BL4
   121 2923 00			    .BYTE 0
   122 2924			?FILE
   123 2924 44 3A		    .BYTE 'D:'
   124 2926			??FILE
   125 2926 20 20 20 20 20 20 +     .BYTE '                    '
   126 293A			BBLQS
   127 293A 30 30 30 9B		    .by '000',$9B
   128 293E			ALL
   129 293E 44 3A 2A 2E 2A 9B	    .BYTE 'D:*.*',$9B
   130 2944			DNHP
   131 2944 60 00 50 80		    .BYTE $60,$00,$50,$80
   132 2948 89 27		    .WORD ??DIR
   133 294A 35 00 00 01 00 80	    .BYTE $35,$00,$00,$01,$00,$80
   134 2950			BAKBYT
   135 2950 10 10 10 10 10	    .SB "00000"
   136 2955			BAKBLQ
   137 2955 10 10 10		    .SB "000"
   138 2958			romceo
   139 2958 A2 13		    ldx #19
   140 295A			?romceo
   141 295A BD 79 25		    lda ROMECEANDO,X
   142 295D 9D A9 25		    sta show,X
   143 2960 9D D9 24		    sta SHOW7,x
   144 2963 9D 00 21		    sta MENSAJE,X
   145 2966 CA			    dex
   146 2967 10 F1		    bpl ?romceo
   147 2969 60			    rts
   148 296A			RESTORE
   149 296A A0 13		    LDY #$13
   150 296C			?RESTORE
   151 296C A9 20		    LDA #$20
   152 296E 99 26 29		    STA ??FILE,Y
   153 2971 A9 00		    LDA #$00
   154 2973 99 61 27		    STA namegam,Y
   155 2976 99 97 26		    STA FILE,Y
   156 2979 99 6F 26		    sta titgam,y 
   157 297C 99 47 26		    sta titgen,y
   158 297F 99 4D 27		    sta namegen,y
   159 2982 99 A9 25		    sta show,y 
   160 2985 99 D9 24		    sta SHOW7,y
   161 2988 99 50 21		    sta TITLO01,Y
   162 298B 99 00 21		    sta MENSAJE,y
   163 298E 88				DEY
   164 298F 10 DB		    BPL ?RESTORE
   165 2991 A9 3F		    LDA #$3F
   166 2993 8D 6F 26		    STA titgam
   167 2996 8D 47 26		    sta titgen
   168 2999 8D 97 26		    STA FILE
   169 299C A9 10		    LDA #$10
   170 299E 8D 0F 27		    sta totalcopias
   171 29A1 A0 04		    LDY #$04
   172 29A3			RESNUM
   173 29A3 99 BF 26		    STA BYTES,Y
   174 29A6 88			    DEY
   175 29A7 10 FA		    BPL RESNUM
   176 29A9 8D E7 26		    STA BLOQUES
   177 29AC 8D E8 26		    STA BLOQUES+1
   178 29AF 8D E9 26		    STA BLOQUES+2
   179 29B2 A9 FF		    LDA #$FF
   180 29B4 8D 01 D3		    STA $D301
   181 29B7 20 58 29		    jsr romceo
   182 29BA 60			    RTS
   183 29BB			ASCINT
   184 29BB C9 20		    CMP #$20
   185 29BD 90 12		    BCC ADD64
   186 29BF C9 60		    CMP #$60
   187 29C1 90 13		    BCC SUB32
   188 29C3 C9 80		    CMP #$80
   189 29C5 90 12		    BCC REMAIN
   190 29C7 C9 A0		    CMP #$A0
   191 29C9 90 06		    BCC ADD64
   192 29CB C9 E0		    CMP #$E0
   193 29CD 90 07		    BCC SUB32
   194 29CF B0 08		    BCS REMAIN
   195 29D1			ADD64
   196 29D1 18			    CLC
   197 29D2 69 40		    ADC #$40
   198 29D4 90 03		    BCC REMAIN
   199 29D6			SUB32
   200 29D6 38			    SEC
   201 29D7 E9 20		    SBC #$20
   202 29D9			REMAIN
   203 29D9 60			    RTS
   204 29DA			SETCOPIAS
   205 29DA 20 41 2B			JSR OPENK
   206 29DD			?SETCOPIAS
   207 29DD A2 27			LDX #<?COPIAS
   208 29DF A0 2A			LDY #>?COPIAS
   209 29E1 A9 10			LDA #$10
   210 29E3 8E 28 02			STX $0228
   211 29E6 8C 29 02			STY $0229
   212 29E9 8D 1A 02			STA $021A
   213 29EC A2 10			LDX #$10
   214 29EE 20 56 E4			JSR $E456
   215 29F1 48				PHA
   216 29F2 A9 00			LDA #$00
   217 29F4 8D 1A 02			STA $021A
   218 29F7 AD 0F 27			LDA TOTALCOPIAS
   219 29FA 29 7F			AND #$7F
   220 29FC 8D 0F 27			STA TOTALCOPIAS
   221 29FF 68				PLA
   222 2A00 C9 2D			CMP #$2D
   223 2A02 F0 0B			BEQ MCOPIAS
   224 2A04 C9 3D			CMP #$3D
   225 2A06 F0 13			BEQ ?MCOPIAS
   226 2A08 C9 9B			CMP #$9B
   227 2A0A D0 D1			BNE ?SETCOPIAS
   228 2A0C 4C 76 2A			JMP CLOSE
   229 2A0F			MCOPIAS
   230 2A0F AD 0F 27			LDA TOTALCOPIAS
   231 2A12 C9 19			CMP #$19
   232 2A14 F0 C7			BEQ ?SETCOPIAS
   233 2A16 EE 0F 27			INC TOTALCOPIAS
   234 2A19 D0 C2			BNE ?SETCOPIAS
   235 2A1B			?MCOPIAS
   236 2A1B AD 0F 27			LDA TOTALCOPIAS
   237 2A1E C9 10			CMP #$10
   238 2A20 F0 BB			BEQ ?SETCOPIAS
   239 2A22 CE 0F 27			DEC TOTALCOPIAS
   240 2A25 D0 B6			BNE ?SETCOPIAS
   241 2A27			?COPIAS
   242 2A27 AD 0F 27			LDA TOTALCOPIAS
   243 2A2A 49 80			EOR #$80
   244 2A2C 8D 0F 27			STA TOTALCOPIAS
   245 2A2F A9 10			LDA #$10
   246 2A31 8D 1A 02			STA $021A
   247 2A34 60				RTS
   248 2A35			CLS
   249 2A35 A2 89		    LDX # <??DIR
   250 2A37 A0 27		    LDY # >??DIR
   251 2A39 86 CB		    STX PCRSR
   252 2A3B 84 CC		    STY PCRSR+1
   253 2A3D A0 00		    LDY #$00
   254 2A3F A2 00		    LDX #$00
   255 2A41			?CLS
   256 2A41 A9 00		    LDA #$00
   257 2A43 91 CB		    STA (PCRSR),Y
   258 2A45 C8			    INY
   259 2A46 D0 03		    BNE ??CLS
   260 2A48 E8			    INX
   261 2A49 E6 CC		    INC PCRSR+1
   262 2A4B			??CLS
   263 2A4B C0 68		    CPY #$68	;$68
   264 2A4D D0 F2		    BNE ?CLS
   265 2A4F E0 01		    CPX #$01
   266 2A51 D0 EE		    BNE ?CLS
   267 2A53 60			    RTS
   268 2A54			OPEN
   269 2A54 A2 10		    LDX #$10
   270 2A56 A9 03		    LDA #$03
   271 2A58 9D 42 03		    STA $0342,X
   272 2A5B A9 26		    LDA # <??FILE
   273 2A5D 9D 44 03		    STA $0344,X
   274 2A60 A9 29		    LDA # >??FILE
   275 2A62 9D 45 03		    STA $0345,X
   276 2A65 A9 04		    LDA #$04
   277 2A67 9D 4A 03		    STA $034A,X
   278 2A6A A9 80		    LDA #$80
   279 2A6C 9D 4B 03		    STA $034B,X
   280 2A6F 20 56 E4		    JSR $E456
   281 2A72 88			    DEY
   282 2A73 D0 0B		    BNE DIR
   283 2A75 60			    RTS
   284 2A76			CLOSE
   285 2A76 A2 10		    LDX #$10
   286 2A78 A9 0C		    LDA #$0C
   287 2A7A 9D 42 03		    STA $0342,X
   288 2A7D 4C 56 E4		    JMP $E456
   289 2A80			DIR
   290 2A80 20 76 2A		    JSR CLOSE
   291 2A83 20 35 2A		    JSR CLS
   292 2A86 A2 61		    LDX # <?DIR
   293 2A88 A0 25		    LDY # >?DIR
   294 2A8A 8E 30 02		    STX $0230
   295 2A8D 8C 31 02		    STY $0231
   296 2A90 A2 89		    LDX # <??DIR
   297 2A92 A0 27		    LDY # >??DIR
   298 2A94 86 CB		    STX PCRSR
   299 2A96 84 CC		    STY PCRSR+1
   300 2A98 A2 10		    LDX #$10
   301 2A9A A9 03		    LDA #$03
   302 2A9C 9D 42 03		    STA $0342,X
   303 2A9F A9 3E		    LDA # <ALL
   304 2AA1 9D 44 03		    STA $0344,X
   305 2AA4 A9 29		    LDA # >ALL
   306 2AA6 9D 45 03		    STA $0345,X
   307 2AA9 A9 06		    LDA #$06
   308 2AAB 9D 4A 03		    STA $034A,X
   309 2AAE A9 00		    LDA #$00
   310 2AB0 9D 4B 03		    STA $034B,X
   311 2AB3 20 56 E4		    JSR $E456
   312 2AB6 A9 07		    LDA #$07
   313 2AB8 9D 42 03		    STA $0342,X
   314 2ABB A9 00		    LDA #$00
   315 2ABD 9D 48 03		    STA $0348,X
   316 2AC0 9D 49 03		    STA $0349,X
   317 2AC3 8D 19 29		    STA RY
   318 2AC6 8D 1A 29		    STA RY+1
   319 2AC9			LEDIR
   320 2AC9 20 56 E4		    JSR $E456
   321 2ACC 30 39		    BMI ?EXIT
   322 2ACE C9 9B		    CMP #$9b
   323 2AD0 F0 29		    BEQ EXIT
   324 2AD2 20 BB 29		    JSR ASCINT
   325 2AD5 AC 19 29		    LDY RY
   326 2AD8 91 CB		    STA (PCRSR),Y
   327 2ADA EE 19 29		    INC RY
   328 2ADD D0 05		    BNE F0
   329 2ADF E6 CC		    INC PCRSR+1
   330 2AE1 EE 1A 29		    INC RY+1
   331 2AE4			F0
   332 2AE4 AC 1A 29		    LDY RY+1
   333 2AE7 C0 01		    CPY #$01
   334 2AE9 D0 0D		    BNE F1
   335 2AEB AC 19 29		    LDY RY
   336 2AEE C0 68		    CPY #$68	;$68
   337 2AF0 90 06		    BCC F1
   338 2AF2 20 15 2B		    JSR PAUSE
   339 2AF5 EE 19 29		    INC RY
   340 2AF8			F1
   341 2AF8 4C C9 2A		    JMP LEDIR
   342 2AFB			EXIT
   343 2AFB EE 19 29		    INC RY
   344 2AFE EE 19 29		    INC RY
   345 2B01 EE 19 29		    INC RY
   346 2B04 4C C9 2A		    JMP LEDIR
   347 2B07			?EXIT
   348 2B07 20 76 2A		    JSR CLOSE
   349 2B0A 20 15 2B		    JSR PAUSE
   350 2B0D 20 35 2A		    JSR CLS
   351 2B10 68			    PLA
   352 2B11 68			    PLA
   353 2B12 4C 63 2F		    JMP START
   354 2B15			PAUSE
   355 2B15 AD 1F D0		    LDA $d01f
   356 2B18 C9 06		    CMP #$06
   357 2B1A D0 F9		    BNE PAUSE
   358 2B1C 20 35 2A		    JSR CLS
   359 2B1F A9 00		    LDA #$00
   360 2B21 8D 19 29		    STA RY
   361 2B24 8D 1A 29		    STA RY+1
   362 2B27 A9 89		    LDA # <??DIR
   363 2B29 85 CB		    STA PCRSR
   364 2B2B A9 27		    LDA # >??DIR
   365 2B2D 85 CC		    STA PCRSR+1
   366 2B2F A2 10		    LDX #$10
   367 2B31 60			    RTS
   368 2B32			FLSH
   369 2B32 AC 19 29		    LDY RY
   370 2B35 B1 CB		    LDA (PCRSR),Y
   371 2B37 49 3F		    EOR #$3f
   372 2B39 91 CB		    STA (PCRSR),Y
   373 2B3B A9 10		    LDA #$10
   374 2B3D 8D 1A 02		    STA $021A
   375 2B40 60			    RTS
   376 2B41			OPENK
   377 2B41 A9 FF		    LDA #$ff
   378 2B43 8D FC 02		    STA $02fc
   379 2B46 A2 10		    LDX #$10
   380 2B48 A9 03		    LDA #$03
   381 2B4A 9D 42 03		    STA $0342,X
   382 2B4D 9D 45 03		    STA $0345,X
   383 2B50 A9 26		    LDA #$26
   384 2B52 9D 44 03		    STA $0344,X
   385 2B55 A9 04		    LDA #$04
   386 2B57 9D 4A 03		    STA $034A,X
   387 2B5A 20 56 E4		    JSR $E456
   388 2B5D A9 07		    LDA #$07
   389 2B5F 9D 42 03		    STA $0342,X
   390 2B62 A9 00		    LDA #$00
   391 2B64 9D 48 03		    STA $0348,X
   392 2B67 9D 49 03		    STA $0349,X
   393 2B6A 8D 19 29		    STA RY
   394 2B6D 60			    RTS
   395 2B6E			RUTLEE
   396 2B6E A2 32		    LDX # <FLSH
   397 2B70 A0 2B		    LDY # >FLSH
   398 2B72 A9 10		    LDA #$10
   399 2B74 8E 28 02		    STX $0228
   400 2B77 8C 29 02		    STY $0229
   401 2B7A 8D 1A 02		    STA $021A
   402 2B7D 20 41 2B		    JSR OPENK
   403 2B80			GETEC
   404 2B80 20 56 E4		    JSR $E456
   405 2B83 C9 7E		    CMP #$7E
   406 2B85 D0 14		    BNE C0
   407 2B87 AC 19 29		    LDY RY
   408 2B8A F0 F4		    BEQ GETEC
   409 2B8C A9 00		    LDA #$00
   410 2B8E 91 CB		    STA (PCRSR),Y
   411 2B90 A9 3F		    LDA #$3f		;$3F
   412 2B92 88			    DEY
   413 2B93 91 CB		    STA (PCRSR),Y
   414 2B95 CE 19 29		    DEC RY
   415 2B98 4C 80 2B		    JMP GETEC
   416 2B9B			C0
   417 2B9B C9 9B		    CMP #$9b	;$9B
   418 2B9D F0 12		    BEQ C2
   419 2B9F 20 BB 29		    JSR ASCINT
   420 2BA2 AC 19 29		    LDY RY
   421 2BA5 91 CB		    STA (PCRSR),Y
   422 2BA7 C0 14		    CPY #$14		;#14
   423 2BA9 F0 03		    BEQ C1
   424 2BAB EE 19 29		    INC RY
   425 2BAE			C1
   426 2BAE 4C 80 2B		    JMP GETEC
   427 2BB1			C2
   428 2BB1 20 76 2A		    JSR CLOSE
   429 2BB4 A9 00		    LDA #$00
   430 2BB6 8D 1A 02		    STA $021A
   431 2BB9 AC 19 29		    LDY RY
   432 2BBC 91 CB		    STA (PCRSR),Y
   433 2BBE 60			    RTS
   434 2BBF			FGET
   435 2BBF A9 DF		    LDA #$DF
   436 2BC1 8D 01 D3		    STA $D301
   437 2BC4 A9 00		    LDA #$00
   438 2BC6 8D 1B 29		    STA LEN
   439 2BC9 8D 1C 29		    STA LEN+1
   440 2BCC			LOPFGET
   441 2BCC A2 10		    LDX #$10
   442 2BCE A9 07		    LDA #$07
   443 2BD0 9D 42 03		    STA $0342,X
   444 2BD3 A9 00		    LDA # <BAFER
   445 2BD5 9D 44 03		    STA $0344,X
   446 2BD8 A9 40		    LDA # >BAFER
   447 2BDA 9D 45 03		    STA $0345,X
   448 2BDD A9 00		    LDA # <LENGHT
   449 2BDF 9D 48 03		    STA $0348,X
   450 2BE2 A9 40		    LDA # >LENGHT
   451 2BE4 9D 49 03		    STA $0349,X
   452 2BE7			??FGET
   453 2BE7 20 56 E4		    JSR $E456
   454 2BEA 18			    CLC
   455 2BEB AD 1B 29		    LDA LEN
   456 2BEE 7D 48 03		    ADC $0348,X
   457 2BF1 8D 1B 29		    STA LEN
   458 2BF4 AD 1C 29		    LDA LEN+1
   459 2BF7 7D 49 03		    ADC $0349,X
   460 2BFA 8D 1C 29		    STA LEN+1
   461 2BFD 18			    CLC
   462 2BFE AD 01 D3		    LDA $D301
   463 2C01 69 04		    ADC #$04
   464 2C03 8D 01 D3		    STA $D301
   465 2C06 BD 49 03		    LDA $0349,X
   466 2C09 C9 40		    CMP # >LENGHT
   467 2C0B F0 BF		    BEQ LOPFGET
   468 2C0D C0 88		    CPY #$88	;$88
   469 2C0F F0 0C		    BEQ ?FGET
   470 2C11 20 76 2A		    JSR CLOSE
   471 2C14 20 35 2A		    JSR CLS
   472 2C17 A2 00		    LDX #$00
   473 2C19 9A			    TXS
   474 2C1A 4C 63 2F		    JMP START
   475 2C1D			?FGET
   476 2C1D 20 44 DA		    JSR ZFR0
   477 2C20 A9 FC		    LDA #$fc	;$FC
   478 2C22 85 D4		    STA FR0
   479 2C24 20 AA D9		    JSR IFP
   480 2C27 20 B6 DD		    JSR FMOVE
   481 2C2A AD 1B 29		    LDA LEN
   482 2C2D 85 D4		    STA FR0
   483 2C2F AD 1C 29		    LDA LEN+1
   484 2C32 85 D5		    STA FR0+1
   485 2C34 20 AA D9		    JSR IFP
   486 2C37 20 72 2C		    JSR PONBYTES
   487 2C3A 20 28 DB		    JSR FDIV
   488 2C3D 20 8A 2C		    JSR PONBLOQUES
   489 2C40 20 D2 D9		    JSR FPI
   490 2C43 A5 D4		    LDA FR0
   491 2C45 48			    PHA
   492 2C46 C6 D4		    DEC FR0
   493 2C48 20 AA D9		    JSR IFP
   494 2C4B 20 B6 DD		    JSR FMOVE
   495 2C4E A9 FC		    LDA #$fc	;$FC
   496 2C50 85 D4		    STA FR0
   497 2C52 A9 00		    LDA #$00
   498 2C54 85 D5		    STA FR0+1
   499 2C56 20 AA D9		    JSR IFP
   500 2C59 20 DB DA		    JSR FMUL
   501 2C5C 20 D2 D9		    JSR FPI
   502 2C5F 38			    SEC
   503 2C60 AD 1B 29		    LDA LEN
   504 2C63 E5 D4		    SBC FR0
   505 2C65 8D 1E 29		    STA CONT+1
   506 2C68 EE 1E 29		    INC CONT+1
   507 2C6B 68			    PLA
   508 2C6C 8D 1D 29		    STA CONT
   509 2C6F A2 10		    LDX #$10
   510 2C71 60			    RTS
   511 2C72			PONBYTES
   512 2C72 20 E4 2C		    JSR NBYTES
   513 2C75 8C 19 29		    STY RY
   514 2C78 A0 04		    LDY #$04
   515 2C7A			?PONBYTES
   516 2C7A BD 80 05		    LDA LBUFF,X
   517 2C7D 29 5F		    AND #$5F
   518 2C7F 99 BF 26		    STA BYTES,Y
   519 2C82 88			    DEY
   520 2C83 CA			    DEX
   521 2C84 CE 19 29		    DEC RY
   522 2C87 10 F1		    BPL ?PONBYTES
   523 2C89 60			    RTS
   524 2C8A			PONBLOQUES
   525 2C8A 20 E4 2C		    JSR NBYTES
   526 2C8D 8C 19 29		    STY RY
   527 2C90 A0 02		    LDY #$02
   528 2C92			?PONBLOQUES
   529 2C92 BD 80 05		    LDA LBUFF,X
   530 2C95 29 5F		    AND #$5F
   531 2C97 99 E7 26		    STA BLOQUES,Y
   532 2C9A 88			    DEY
   533 2C9B CA			    DEX
   534 2C9C CE 19 29		    DEC RY
   535 2C9F 10 F1		    BPL ?PONBLOQUES
   536 2CA1 AD E9 26		    LDA BLOQUES+2
   537 2CA4 C9 19		    CMP #$19
   538 2CA6 F0 1F		    BEQ ??PP0
   539 2CA8 EE E9 26		    INC BLOQUES+2
   540 2CAB			PP0
   541 2CAB A0 02		    LDY #$02
   542 2CAD			MVBLQ
   543 2CAD B9 E7 26		    LDA BLOQUES,Y
   544 2CB0 09 20		    ORA #$20
   545 2CB2 99 3A 29		    STA BBLQS,Y
   546 2CB5 88			    DEY
   547 2CB6 10 F5		    BPL MVBLQ
   548 2CB8 A2 3A		    LDX # <BBLQS
   549 2CBA A0 29		    LDY # >BBLQS
   550 2CBC A9 00		    LDA #$00
   551 2CBE 86 F3		    STX INBUFF
   552 2CC0 84 F4		    STY INBUFF+1
   553 2CC2 85 F2		    STA CIX
   554 2CC4 4C 00 D8		    JMP AFP
   555 2CC7			??PP0
   556 2CC7 A9 10		    LDA #$10
   557 2CC9 8D E9 26		    STA BLOQUES+2
   558 2CCC AD E8 26		    LDA BLOQUES+1
   559 2CCF C9 19		    CMP #$19
   560 2CD1 F0 06		    BEQ ???PP0
   561 2CD3 EE E8 26		    INC BLOQUES+1
   562 2CD6 4C AB 2C		    JMP PP0
   563 2CD9			???PP0
   564 2CD9 A9 10		    LDA #$10
   565 2CDB 8D E8 26		    STA BLOQUES+1
   566 2CDE EE E7 26		    INC BLOQUES
   567 2CE1 4C AB 2C		    JMP PP0
   568 2CE4			NBYTES
   569 2CE4 20 E6 D8		    JSR FASC
   570 2CE7 A2 00		    LDX #$00
   571 2CE9 A0 00		    LDY #$00
   572 2CEB AD 80 05		    LDA LBUFF
   573 2CEE C9 30		    CMP #$30	;'0
   574 2CF0 D0 01		    BNE PL0
   575 2CF2 E8			    INX
   576 2CF3			PL0
   577 2CF3 BD 80 05		    LDA LBUFF,X
   578 2CF6 C9 80		    CMP #$80
   579 2CF8 B0 09		    BCS PL1
   580 2CFA C9 2E		    CMP #$2E		;'.
   581 2CFC F0 06		    BEQ PL2
   582 2CFE E8			    INX
   583 2CFF C8			    INY
   584 2D00 4C F3 2C		    JMP PL0
   585 2D03			PL1
   586 2D03 60			    RTS
   587 2D04			PL2
   588 2D04 CA				DEX
   589 2D05 BD 80 05		    LDA LBUFF,X
   590 2D08 09 80		    ORA #$80
   591 2D0A 9D 80 05		    STA LBUFF,X
   592 2D0D 88			    DEY
   593 2D0E 60			    RTS
   594 2D0F			OPENC
   595 2D0F AD 0B D4			LDA $D40B
   596 2D12 D0 FB		    BNE OPENC
   597 2D14 A9 FE		    LDA #$FE
   598 2D16 8D 01 D3		    STA $d301		;$02FC
   599 2D19 20 3C 20			jsr preinj
   600 2D1C 4C 74 30			jmp ?piratas
   601 2D1F			PONDATA
   602 2D1F AD E7 26		    LDA BLOQUES
   603 2D22 8D 1B 24		    STA BLQ
   604 2D25 AD E8 26		    LDA BLOQUES+1
   605 2D28 8D 1C 24		    STA BLQ+1
   606 2D2B AD E9 26		    LDA BLOQUES+2
   607 2D2E 8D 1D 24		    STA BLQ+2
   608 2D31 A0 13		    LDY #$13
   609 2D33			?PONDATA
   610 2D33 B9 61 27			LDA namegam,Y
   611 2D36 99 07 24			STA NME,Y
   612 2D39 88				DEY
   613 2D3A 10 F7			BPL ?PONDATA   
   614 2D3C 60			    RTS
   615 2D3D			INITSIOV
   616 2D3D A0 0B		    LDY #$0B
   617 2D3F			?INITSIOV
   618 2D3F B9 44 29		    LDA DNHP,Y
   619 2D42 99 00 03		    STA $0300,Y
   620 2D45 88			    DEY
   621 2D46 10 F7		    BPL ?INITSIOV
   622 2D48 A9 00		    LDA #$00
   623 2D4A 85 4D		    STA $4d		;$4D
   624 2D4C 60			    RTS
   625 2D4D			AUTORUN
   626 2D4D A2 1F		    LDX # <PAG7
   627 2D4F A0 24		    LDY # >PAG7
   628 2D51 A9 01		    LDA #$01
   629 2D53 8E 9A 2D		    STX MVPG7+1
   630 2D56 8C 9B 2D		    STY MVPG7+2
   631 2D59 8D 23 29		    STA @BL4
   632 2D5C			FALTA
   633 2D5C 20 3D 2D		    JSR INITSIOV
   634 2D5F A2 89		    LDX #<??DIR
   635 2D61 A0 27		    LDY #>??DIR
   636 2D63 8E 04 03		    STX $0304
   637 2D66 8C 05 03		    STY $0305
   638 2D69 A2 83		    LDX #$83	; $83
   639 2D6B A0 00		    LDY #$00	; $00
   640 2D6D 8E 08 03		    STX $0308
   641 2D70 8C 09 03		    STY $0309
   642 2D73 A0 00		    LDY #$00
   643 2D75 98			    TYA
   644 2D76			CLBUF
   645 2D76 99 89 27		    STA ??DIR,Y
   646 2D79 C8			    INY
   647 2D7A C0 83		    CPY #$83	;$83
   648 2D7C D0 F8		    BNE CLBUF
   649 2D7E A9 55		    LDA #$55
   650 2D80 8D 89 27		    STA ??DIR
   651 2D83 8D 8A 27		    STA ??DIR+1
   652 2D86 A2 FC		    LDX #$FC
   653 2D88 A0 7F		    LDY #$7f	;$7F
   654 2D8A CE 23 29		    DEC @BL4
   655 2D8D 10 07		    BPL NOFIN
   656 2D8F A2 FA		    LDX #$FA
   657 2D91 A0 60		    LDY #LAST
   658 2D93 8C 0B 28		    STY ??DIR+130
   659 2D96			NOFIN
   660 2D96 8E 8B 27		    STX ??DIR+2
   661 2D99			MVPG7
   662 2D99 B9 1F 24		    LDA PAG7,Y
   663 2D9C 99 8C 27		    STA ??DIR+3,Y
   664 2D9F 88			    DEY
   665 2DA0 10 F7		    BPL MVPG7
   666 2DA2 20 59 E4		    JSR $E459
   667 2DA5 A2 10		    ldx #$10
   668 2DA7 A0 00		    ldy #$00
   669 2DA9 20 0C 2E		    jsr time
   670 2DAC 18			    CLC
   671 2DAD AD 9A 2D		    LDA MVPG7+1
   672 2DB0 69 80		    ADC #$80
   673 2DB2 8D 9A 2D		    STA MVPG7+1
   674 2DB5 AD 9B 2D		    LDA MVPG7+2
   675 2DB8 69 00		    ADC #$00
   676 2DBA 8D 9B 2D		    STA MVPG7+2
   677 2DBD AD 23 29		    LDA @BL4
   678 2DC0 10 9A		    BPL FALTA
   679 2DC2 60			    RTS
   680 2DC3			GAUTO
   681 2DC3 20 4D 2D		    JSR AUTORUN
   682 2DC6 20 3D 2D		    JSR INITSIOV
   683 2DC9 A2 83		    LDX #$83
   684 2DCB A0 00		    LDY #$00
   685 2DCD			?GAUTO
   686 2DCD 8E 08 03		    STX $0308
   687 2DD0 8C 09 03		    STY $0309
   688 2DD3 A2 FF		    LDX # <PAG4
   689 2DD5 A0 24		    LDY # >PAG4
   690 2DD7 8E 04 03		    STX $0304
   691 2DDA 8C 05 03		    STY $0305
   692 2DDD 20 59 E4		    JSR $E459
   693 2DE0 20 89 20		    jsr injektor
   694 2DE3 20 3D 2D		    JSR INITSIOV
   695 2DE6 A2 F0		    LDX #$f0
   696 2DE8 A0 00		    ldy #$00
   697 2DEA 20 0C 2E		    jsr time
   698 2DED A2 73		    ldx #<LLOAD
   699 2DEF A0 03		    ldy #>LLOAD
   700 2DF1 8E 08 03		    STX $0308
   701 2DF4 8C 09 03		    STY $0309
   702 2DF7 A2 AC		    LDX # <LOAD
   703 2DF9 A0 20		    LDY # >LOAD
   704 2DFB 8E 04 03		    STX $0304
   705 2DFE 8C 05 03		    STY $0305
   706 2E01 20 59 E4		    JSR $E459
   707 2E04 A2 10		    ldx #$10
   708 2E06 A0 00		    ldy #$00
   709 2E08 20 0C 2E		    jsr time
   710 2E0B 60			    RTS
   711 2E0C			time
   712 2E0C 8E 1C 02			stx $021c
   713 2E0F 8C 1D 02			sty $021d
   714 2E12			?time
   715 2E12 AD 1C 02			lda $021c
   716 2E15 0D 1D 02			ora $021d
   717 2E18 D0 F8			bne ?time
   718 2E1A 60				rts
   719 2E1B			REST
   720 2E1B A0 04		    LDY #$04
   721 2E1D			??REST
   722 2E1D B9 BF 26		    LDA BYTES,Y
   723 2E20 99 50 29		    STA BAKBYT,Y
   724 2E23 88			    DEY
   725 2E24 10 F7		    BPL ??REST
   726 2E26 A0 02		    LDY #$02
   727 2E28			???REST
   728 2E28 B9 E7 26		    LDA BLOQUES,Y
   729 2E2B 99 55 29		    STA BAKBLQ,Y
   730 2E2E 88			    DEY
   731 2E2F 10 F7		    BPL ???REST
   732 2E31 60			    RTS
   733 2E32			?REST
   734 2E32 A0 04		    LDY #$04
   735 2E34			????REST
   736 2E34 B9 50 29		    LDA BAKBYT,Y
   737 2E37 99 BF 26		    STA BYTES,Y
   738 2E3A 88			    DEY
   739 2E3B 10 F7		    BPL ????REST
   740 2E3D A0 02		    LDY #$02
   741 2E3F			?????REST
   742 2E3F B9 55 29		    LDA BAKBLQ,Y
   743 2E42 99 E7 26		    STA BLOQUES,Y
   744 2E45 88			    DEY
   745 2E46 10 F7		    BPL ?????REST
   746 2E48 AD 1D 29		    LDA CONT
   747 2E4B 8D 1E 24		    STA PFIN
   748 2E4E 60			    RTS
   749 2E4F			EXNHPUT
   750 2E4F 68			    PLA
   751 2E50 68			    PLA
   752 2E51 68			    PLA
   753 2E52 68			    PLA
   754 2E53 60			    RTS
   755 2E54			NHPUT
   756 2E54 A9 55		    LDA #$55
   757 2E56 8D 89 27		    STA ??DIR
   758 2E59 8D 8A 27		    STA ??DIR+1
   759 2E5C A9 FC		    LDA #$fc	;$FC
   760 2E5E 8D 88 28		    STA ??DIR+255
   761 2E61 A9 DE		    lda #$de
   762 2E63 8D 01 D3		    sta $d301
   763 2E66 A2 00		    LDX # <BAFER
   764 2E68 A0 40		    LDY # >BAFER
   765 2E6A 8E E5 2E		    STX M+1
   766 2E6D 8C E6 2E		    STY M+2
   767 2E70 A2 00		    LDX #$00
   768 2E72 A0 00		    LDY #$00
   769 2E74 8C E2 02		    STY $02E2
   770 2E77 20 7D 2E		    JSR GRABACION
   771 2E7A 4C 90 2E		    JMP ?MVBF
   772 2E7D			GRABACION
   773 2E7D AD 1E 24		    LDA PFIN
   774 2E80 8D 8B 27		    STA ??DIR+2
   775 2E83 F0 CA		    BEQ EXNHPUT
   776 2E85 C9 01		    CMP #$01
   777 2E87 D0 06		    BNE RETURN
   778 2E89 AD 1E 29		    LDA CONT+1
   779 2E8C 8D 88 28		    STA ??DIR+255
   780 2E8F			RETURN
   781 2E8F 60			    RTS
   782 2E90			?MVBF
   783 2E90 20 DE 2E		    JSR GBYTE
   784 2E93 8D 1F 29		    STA STARTF
   785 2E96 20 DE 2E		    JSR GBYTE
   786 2E99 8D 20 29		    STA STARTF+1
   787 2E9C 2D 1F 29		    AND STARTF
   788 2E9F C9 FF		    CMP #$FF
   789 2EA1 F0 ED		    BEQ ?MVBF
   790 2EA3 20 DE 2E		    JSR GBYTE
   791 2EA6 8D 21 29		    STA FINISH
   792 2EA9 20 DE 2E		    JSR GBYTE
   793 2EAC 8D 22 29		    STA FINISH+1
   794 2EAF			NHLOP
   795 2EAF 20 DE 2E		    JSR GBYTE
   796 2EB2 AD 1F 29		    LDA STARTF
   797 2EB5 C9 E3		    CMP #$E3
   798 2EB7 D0 0A		    BNE ?NHLOP
   799 2EB9 AD 20 29		    LDA STARTF+1
   800 2EBC C9 02		    CMP #$02
   801 2EBE D0 03		    BNE ?NHLOP
   802 2EC0 8D E2 02		    STA $02E2
   803 2EC3			?NHLOP
   804 2EC3 AD 1F 29		    LDA STARTF
   805 2EC6 CD 21 29		    CMP FINISH
   806 2EC9 D0 08		    BNE NHCONT
   807 2ECB AD 20 29		    LDA STARTF+1
   808 2ECE CD 22 29		    CMP FINISH+1
   809 2ED1 F0 BD		    BEQ ?MVBF
   810 2ED3			NHCONT
   811 2ED3 EE 1F 29		    INC STARTF
   812 2ED6 D0 03		    BNE NOHI
   813 2ED8 EE 20 29		    INC STARTF+1
   814 2EDB			NOHI
   815 2EDB 4C AF 2E		    JMP NHLOP
   816 2EDE			GBYTE
   817 2EDE CC 88 28			CPY ??DIR+255
   818 2EE1 F0 25		    BEQ EGRAB
   819 2EE3 98			    TYA
   820 2EE4			M
   821 2EE4 5D 00 40		    EOR BAFER,X
   822 2EE7 99 8C 27		    STA ??DIR+3,Y
   823 2EEA 98			    TYA
   824 2EEB 59 8C 27		    EOR ??DIR+3,Y
   825 2EEE C8			    INY
   826 2EEF E8			    INX
   827 2EF0 D0 15		    BNE EXNHPIT
   828 2EF2 EE E6 2E		    INC M+2
   829 2EF5 10 10		    BPL EXNHPIT
   830 2EF7 48			    PHA
   831 2EF8 18			    CLC
   832 2EF9 AD 01 D3		    LDA $D301
   833 2EFC 69 04		    ADC #$04
   834 2EFE 8D 01 D3		    STA $D301
   835 2F01 A9 40		    LDA # >BAFER
   836 2F03 8D E6 2E		    STA M+2
   837 2F06 68			    PLA
   838 2F07			EXNHPIT
   839 2F07 60			    RTS
   840 2F08			EGRAB
   841 2F08 CE 1E 24		    DEC PFIN
   842 2F0B 8A			    TXA
   843 2F0C 48			    PHA
   844 2F0D 20 3D 2D		    JSR INITSIOV
   845 2F10 20 59 E4		    JSR $E459
   846 2F13 A2 10		    LDX #$10
   847 2F15 A0 00		    ldy #$00
   848 2F17 20 0C 2E		    jsr time
   849 2F1A A2 02		    ldx #$02
   850 2F1C			DECBL01
   851 2F1C BD E7 26		    LDA BLOQUES,X
   852 2F1F C9 10		    CMP #$10
   853 2F21 D0 08		    BNE DECBL02
   854 2F23 A9 19		    LDA #$19
   855 2F25 9D E7 26		    STA BLOQUES,X
   856 2F28 CA			    DEX
   857 2F29 10 F1		    BPL DECBL01
   858 2F2B			DECBL02
   859 2F2B DE E7 26		    DEC BLOQUES,X
   860 2F2E 68			    PLA
   861 2F2F AA			    TAX
   862 2F30 AD E2 02			LDA $02E2
   863 2F33 D0 08		    BNE SLOWB
   864 2F35			SIGUE
   865 2F35 20 7D 2E		    JSR GRABACION
   866 2F38 A0 00		    LDY #$00
   867 2F3A 4C DE 2E		    JMP GBYTE
   868 2F3D			SLOWB
   869 2F3D 8A			    TXA
   870 2F3E 48			    PHA
   871 2F3F A2 5E		    LDX #$5e	;$015e
   872 2F41 A0 01		    LDY #$01
   873 2F43 8E 1C 02		    STX $021C
   874 2F46 8C 1D 02		    STY $021D
   875 2F49			IRG
   876 2F49 AD 1D 02		    LDA $021D
   877 2F4C D0 FB		    BNE IRG
   878 2F4E AD 1C 02		    LDA $021C
   879 2F51 D0 F6		    BNE IRG
   880 2F53 A9 00		    LDA #$00
   881 2F55 8D E2 02		    STA $02E2
   882 2F58 68			    PLA
   883 2F59 AA			    TAX
   884 2F5A 4C 35 2F		    JMP SIGUE
   885 2F5D			DOS
   886 2F5D 6C 0C 00		    JMP ($0C)
   887 2F60			@START
   888 2F60 20 5D 2F			JSR DOS
   889 2F63			START
   890 2F63 A2 8D		    LDX # <DLS
   891 2F65 A0 25		    LDY # >DLS
   892 2F67 8E 30 02		    STX $0230
   893 2F6A 8C 31 02		    STY $0231
   894 2F6D A9 02		    lda #$02
   895 2F6F 8D C6 02		    sta 710
   896 2F72 8D C8 02		    sta 712
   897 2F75 20 6A 29		    JSR RESTORE
   898 				;ingresamos titulo general
   899 2F78 A2 47		    LDX # <titgen
   900 2F7A A0 26		    LDY # >titgen
   901 2F7C 86 CB		    STX PCRSR
   902 2F7E 84 CC		    STY PCRSR+1
   903 2F80 20 6E 2B		    JSR RUTLEE
   904 2F83 98			    TYA
   905 2F84 F0 22		    BEQ NOTITLEG
   906 2F86 4A			    LSR 
   907 2F87 8D 1A 29		    STA RY+1
   908 2F8A A9 0A		    LDA #$0a
   909 2F8C 38			    SEC
   910 2F8D ED 1A 29		    SBC RY+1
   911 2F90 8D 1A 29		    STA RY+1
   912 2F93 A2 00		    LDX #$00
   913 2F95 AC 1A 29		    LDY RY+1
   914 2F98			WRITEG
   915 2F98 BD 47 26		    LDA titgen,X
   916 2F9B 99 4D 27		    STA namegen,Y
   917 2F9E 99 50 21		    sta TITLO01,y
   918 2FA1 C8			    INY
   919 2FA2 E8			    INX
   920 2FA3 EC 19 29		    CPX RY
   921 2FA6 D0 F0		    BNE WRITEG
   922 2FA8			NOTITLEG
   923 				;ingresamos titul juego
   924 2FA8 A2 6F		    LDX # <titgam
   925 2FAA A0 26		    LDY # >titgam
   926 2FAC 86 CB		    STX PCRSR
   927 2FAE 84 CC		    STY PCRSR+1
   928 2FB0 20 6E 2B		    JSR RUTLEE
   929 2FB3 98			    TYA
   930 2FB4 F0 1F		    BEQ NOTITLE
   931 2FB6 4A			    LSR 
   932 2FB7 8D 1A 29		    STA RY+1
   933 2FBA A9 0A		    LDA #$0a
   934 2FBC 38			    SEC
   935 2FBD ED 1A 29		    SBC RY+1
   936 2FC0 8D 1A 29		    STA RY+1
   937 2FC3 A2 00		    LDX #$00
   938 2FC5 AC 1A 29		    LDY RY+1
   939 2FC8			WRITE
   940 2FC8 BD 6F 26		    LDA titgam,X
   941 2FCB 99 61 27		    STA namegam,Y
   942 2FCE C8			    INY
   943 2FCF E8			    INX
   944 2FD0 EC 19 29		    CPX RY
   945 2FD3 D0 F3		    BNE WRITE
   946 2FD5			NOTITLE
   947 2FD5 A2 97		    LDX # <FILE
   948 2FD7 A0 26		    LDY # >FILE
   949 2FD9 86 CB		    STX PCRSR
   950 2FDB 84 CC		    STY PCRSR+1
   951 2FDD 20 6E 2B		    JSR RUTLEE
   952 2FE0 A0 13		    LDY #$13
   953 2FE2			CONV
   954 2FE2 B9 97 26		    LDA FILE,Y
   955 2FE5 F0 14		    BEQ ?REMAIN
   956 2FE7 29 7F		    AND #$7F
   957 2FE9 C9 40		    CMP #$40
   958 2FEB 90 06		    BCC ADD32
   959 2FED C9 60		    CMP #$60
   960 2FEF 90 07		    BCC SUB64
   961 2FF1 B0 08		    BCS ?REMAIN
   962 2FF3			ADD32
   963 2FF3 18			    CLC
   964 2FF4 69 20		    ADC #32
   965 2FF6 90 05		    BCC OKLET
   966 2FF8			SUB64
   967 2FF8 38			    SEC
   968 2FF9 E9 40		    SBC #64
   969 2FFB			?REMAIN
   970 2FFB A9 9B		    LDA #$9B
   971 2FFD			OKLET
   972 2FFD 99 26 29		    STA ??FILE,Y
   973 3000 88			    DEY
   974 3001 10 DF		    BPL CONV
   975 3003 20 54 2A		    JSR OPEN
   976 3006 20 BF 2B		    JSR FGET
   977 3009 20 76 2A		    JSR CLOSE
   978 300C 20 1F 2D		    JSR PONDATA
   979 300F 20 1B 2E		    JSR REST
   980 3012			OTRACOPIA
   981 3012 20 DA 29		    JSR SETCOPIAS
   982 3015 20 32 2E		    JSR ?REST
   983 3018 20 0F 2D		    JSR OPENC
   984 301B 20 C3 2D		    JSR GAUTO
   985 301E			?OTRACOPIA
   986 301E 20 32 2E			JSR ?REST
   987 3021 20 54 2E		    JSR NHPUT
   988 3024 A2 FE		    LDX #$fe
   989 3026 A0 80		    LDY #$80
   990 3028 86 13		    stx $13
   991 302A 84 14		    sty $14
   992 302C			??otracopia
   993 302C A5 13			lda $13
   994 302E 05 14			ora $14
   995 3030 D0 FA			bne ??otracopia
   996 3032 AD 0F 27			lda totalcopias
   997 3035 29 0F			and #$0f
   998 3037 F0 05			beq ???otracopia
   999 3039 CE 0F 27			dec totalcopias
  1000 303C 10 E0			bpl ?OTRACOPIA
  1001 303E			???otracopia
  1002 303E A2 3C			ldx #$3c
  1003 3040 A0 80			ldy #$80
  1004 3042 A9 03			lda #$03
  1005 3044 8D 0F D2			sta $d20f
  1006 3047 8E 02 D3			stx $d302
  1007 304A 84 4D			sty $4d
  1008 304C			WAIT
  1009 304C AD 1F D0		    LDA $d01f
  1010 304F C9 07		    CMP #$07
  1011 3051 F0 F9		    BEQ WAIT
  1012 3053 C9 06		    CMP #$06
  1013 3055 F0 BB		    BEQ OTRACOPIA
  1014 3057 C9 03		    CMP #$03
  1015 3059 D0 F1		    BNE WAIT
  1016 305B 4C 63 2F		    JMP START
  1017 305E			PIRATAS
  1018 305E 20 76 2A		    JSR CLOSE
  1019 3061 A2 41		    LDX # <OPENK
  1020 3063 A0 2B		    LDY # >OPENK
  1021 3065 EA			    nop
  1022 3066 EA			    nop
  1023 3067 EA			    nop
  1024 3068 20 76 2A			jsr close
  1025 306B 20 00 20		    JSR kkem
  1026 306E 20 74 30		    jsr ?piratas
  1027 3071 4C 63 2F		    jmp start
  1028 3074			?piratas
  1029 3074 A2 60		    LDX # <@START
  1030 3076 A0 2F		    LDY # >@START
  1031 3078 A9 03		    LDA #$03
  1032 307A 86 02		    STX $02
  1033 307C 84 03		    STY $03
  1034 307E 85 09		    STA $09
  1035 3080 A0 FF		    LDY #$FF
  1036 3082 84 08		    STY $08
  1037 3084 C8			    INY   
  1038 3085 8C 44 02		    STY $0244
  1039 3088 60			    rts
  1040
  1041 02E0-02E1> 5E 30			RUN PIRATAS
