mads 2.1.0
Source: inj.asm
     1 				;	OPT NO LIST
     2 				;
     3 				; GRABADOR SISTEMA injektor con irg
     4 				;
     5 				;
     6 = 295A			@LEN =  LEN+2
     7 = 295C			@LBAF = LEN+4
     8 = 295D			PPILA = LEN+5
     9 = 00CB			PCRSR = $CB
    10 = 00CB			ORG =   PCRSR
    11 = 0058			SVMSC = $58
    12 = 0054			POSXY = $54
    13 = 4000			LENGHT = $4000
    14 = 4000			BAFER = $4000
    15 = 00D4			FR0 =   $D4
    16 = 00F2			CIX =   $F2
    17 = D800			AFP =   $D800
    18 = D9AA			IFP =   $D9AA
    19 = D9D2			FPI =   $D9D2
    20 = D8E6			FASC =  $D8E6
    21 = DA44			ZFR0 =  $DA44
    22 = DB28			FDIV =  $DB28
    23 = DADB			FMUL =  $DADB
    24 = DDB6			FMOVE = $DDB6
    25 = 00F3			INBUFF = $F3
    26 = 0580			LBUFF = $0580
    27 = 037F			LLOAD = PAG7-LOAD
    28 = 00E0			LAUTO = PAG4-PAG7
    29 = 0001			BL4 =   LAUTO/128
    30 = 0060			LAST =  LAUTO-128*BL4
    31 = 0047			GENDAT = $47
    32 				;
    33 					org $2000
    34 					icl 'paginas/kem.asm'
Source: kem.asm
     1 				kkem
     2 FFFF> 2000-30CF> 78	    SEI
     3 2001 AD 0E D4		    LDA $D40E
     4 2004 48			    PHA
     5 2005 A9 00		    lda #$00
     6 2007 8D 0E D4		    sta $D40E
     7 200A A8			    tay
     8 200B			kloop
     9 200B B9 00 C0		    LDA $C000,Y
    10 200E CE 01 D3		    DEC $D301
    11 2011 99 00 C0		    STA $C000,Y
    12 2014 EE 01 D3		    INC $D301
    13 2017 C8			    INY
    14 2018 D0 F1		    BNE kloop
    15 201A EE 0D 20		    INC kloop+2
    16 201D EE 13 20		    inc kloop+8
    17 2020			kmove
    18 2020 AD 0D 20			lda kloop+2   
    19 2023 F0 0E		    BEQ @kexit
    20 2025 C9 D0		    CMP #$D0
    21 2027 D0 E2		    BNE kloop
    22 2029 A9 D8		    LDA #$D8
    23 202B 8D 0D 20		    STA kloop+2
    24 202E 8D 13 20		    sta kloop+8
    25 2031 D0 D8		    BNE kloop
    26 2033			@kexit
    27 2033 68			    PLA
    28 2034 8D 0E D4		    STA $D40E
    29 2037 58			    CLI
    30 2038 CE 01 D3		    dec $d301
    31 203B 60			    RTS
    35 203C				icl 'paginas/injektor.asm'
Source: injektor.asm
     1 203C A2 FF		PREINJ      ldx #$FF
     2 203E A9 60		            lda #$60
     3 2040 8F FC FD		            sax $FDFC
     4 2043 8F 44 02		            sax $0244
     5 2046 A4 62		            ldy $0062
     6 2048 A9 02		            lda #$02
     7 204A 99 15 EE		            sta $EE15,Y
     8 204D A9 48		            lda #$48
     9 204F 8F 89 00		            sax.w $0089
    10 2052 99 8F FE		            sta $FE8F,Y
    11 2055 A9 03		            lda #$03
    12 2057 8F 8A 00		            sax.w $008A
    13 205A 99 8D FE		            sta $FE8D,Y
    14 205D A9 34		            lda #$34
    15 205F 8F D7 FD		            sax $FDD7
    16 2062 A9 FF		            lda #$FF
    17 2064 8F 52 FE		            sax $FE52
    18 2067 A9 03		            lda #$03
    19 2069 8F 4D FE		            sax $FE4D
    20 206C A9 81		            lda #$81
    21 206E 8F 48 FE		            sax $FE48
    22 2071 A9 CC		            lda #$CC
    23 2073 8F A3 EB		            sax $EBA3
    24 2076 8F 41 FD		            sax $FD41
    25 2079 A9 05		            lda #$05
    26 207B 8F A8 EB		            sax $EBA8
    27 207E 8F 46 FD		            sax $FD46
    28 2081 A9 08		            lda #$08
    29 2083 8F 26 EC		            sax $EC26
    30 2086 4C 34 FD		            jmp $FD34
    31 2089 A2 FF		INJEKTOR    ldx #$FF
    32 208B A9 D9		            lda #$D9
    33 208D 8F A3 EB		            sax $EBA3
    34 2090 8F 41 FD		            sax $FD41
    35 2093 E8			            inx
    36 2094 8F A8 EB		            sax $EBA8
    37 2097 8F 46 FD		            sax $FD46
    38 209A 8F 26 EC		            sax $EC26
    39 209D A6 62		            ldx $0062
    40 209F A9 20		            lda #$20
    41 20A1 9D 8F FE		            sta $FE8F,X
    42 20A4 A9 01		            lda #$01
    43 20A6 9D 8D FE		            sta $FE8D,X
    44 20A9 4C 34 FD		            jmp $FD34
    36 20AC			LOAD	
    37 20AC				icl "paginas/PLOADER.ASM"
Source: PLOADER.ASM
     1 				;load_init =$CBFE
     2 = CC00			load_init =$CC00
     3 				;
     4 = 037F			l_load = [[.len loader]+24]
     5
     6 20AC			.proc	loader,load_init
     7 = 0700			BAFER = $0700
     8 = 0800			BUFAUX = $0800
     9 = 0813			?RUTINA = BUFAUX+JUMP-RUTINA
    10 				;
    11 					;ORG $CC00
    12 CC00 55 55			.by $55,$55
    13 CC02 A0 00		    ldy #$00
    14 CC04 8C 44 02		    STY $0244
    15 CC07 C8			    INY
    16 CC08 84 09		    STY $09
    17 CC0A 20 14 CF		    JSR RECUPERO
    18 CC0D 4C 75 CE		    JMP START
    19 CC10			?INICIO
    20 CC10 20 F9 CD			JSR GBYTE
    21 CC13 8D 9C CE			STA MEMORY+1
    22 CC16 20 F9 CD			JSR GBYTE
    23 CC19 8D 9D CE			STA MEMORY+2
    24 CC1C 2D 9C CE			AND MEMORY+1
    25 CC1F C9 FF			CMP #$FF
    26 CC21 F0 ED			BEQ ?INICIO
    27 CC23 60				RTS
    28 CC24			NBYTES
    29 CC24 FC			    .BY 252   ;$FC
    30 CC25			FLAGY
    31 CC25 00			    .BY 0
    32 CC26			FINISH
    33 CC26 00 00		    .BY 0,0
    34 CC28			LSIOV
    35 CC28 60 00 52 40		    .BY $60,$00,$52,$40
    36 CC2C 00 07		    .WO BAFER
    37 CC2E 23 00		    .BY $23,$00
    38 CC30 00 01		    .WO $0100
    39 CC32 00 80		    .BY $00,$80
    40 CC34			DLIST
    41 CC34 70 70 70 46		    .BY $70,$70,$70,$46
    42 CC38 54 CC		    .WO MENSAJE
    43 CC3A 70 70 02 70 70	    .BY $70,$70,$02,$70,$70
    44 CC3F 70 70 70 70 06 70 +     .BY $70,$70,$70,$70,$06,$70,$70,$06,$70,$06
    45 CC49 70 70 70 70 70 42	    .BY $70,$70,$70,$70,$70,$42
    46 CC4F			DLERR
    47 CC4F CC CC		    .WO DERROR
    48 CC51 41			    .BY $41
    49 CC52 34 CC		    .WO DLIST
    50 CC54			MENSAJE
    51 CC54 0A 0A 0A 0A 0A 0A +     .sb "********************"
    52 CC68 33 29 33 34 25 2D +     .SB "SISTEMA INJEKTOR PARA COMPUTADORES ATARI"
    53 CC90 80 80 80 80 80 80 +     .sb +128,"      presenta      "
    54 CCA4			TITLO01
    55 CCA4 0A 0A 0A 0A 0A 0A +     .SB "********************"
    56 CCB8			NAME
    57 CCB8 0A 0A 0A 0A 0A 0A +     .SB "********************"
    58 CCCC			DERROR
    59 CCCC 00 00 00 00 00 00 +     .sb "      Quedan "
    60 CCD9			CONTADOR
    61 CCD9 10 10 10 00 62 6C +     .sb "000 bloques restantes      "
    62 CCF4			merr
    63 CCF4 00 35 6E 00 6D 6F +     .SB " Un momento porfavor, buscando respaldo "
    64 CD1C			TIEMPO
    65 CD1C A9 40		    LDA #$40
    66 CD1E 8D 0E D4		    STA $D40E
    67 CD21 A2 E4		    LDX #$E4
    68 CD23 A0 5F		    LDY #$5F
    69 CD25 A9 06		    LDA #$06
    70 CD27 20 5C E4		    JSR $E45C
    71 CD2A 60			    RTS
    72 CD2B			LNEW
    73 CD2B A2 04		    LDX #$04
    74 CD2D			XNEW
    75 CD2D BD C4 02		    LDA $02C4,X
    76 CD30 9D 0A CF		    STA PFIN+1,X
    77 CD33 CA			    DEX
    78 CD34 10 F7		    BPL XNEW
    79 CD36 AD 30 02		    LDA $0230
    80 CD39 8D 0F CF		    STA PFIN+6
    81 CD3C AD 31 02		    LDA $0231
    82 CD3F 8D 10 CF		    STA PFIN+7
    83 CD42 AD 2F 02		    LDA $022F
    84 CD45 8D 11 CF		    STA PFIN+8
    85 CD48 AD F4 02		    LDA $02F4
    86 CD4B 8D 12 CF		    STA PFIN+9
    87 CD4E AD F3 02		    LDA $02F3
    88 CD51 8D 13 CF		    STA PFIN+10
    89 CD54 60			    RTS
    90 CD55			NEWL
    91 CD55 A2 04		    LDX #$04
    92 CD57			YNEW
    93 CD57 BD 0A CF		    LDA PFIN+1,X
    94 CD5A 9D C4 02		    STA $02C4,X
    95 CD5D CA			    DEX
    96 CD5E 10 F7		    BPL YNEW
    97 CD60 AD 0F CF		    LDA PFIN+6
    98 CD63 8D 30 02		    STA $0230
    99 CD66 AD 10 CF		    LDA PFIN+7
   100 CD69 8D 31 02		    STA $0231
   101 CD6C AD 11 CF		    LDA PFIN+8
   102 CD6F 8D 2F 02		    STA $022F
   103 CD72 AD 12 CF		    LDA PFIN+9
   104 CD75 8D F4 02		    STA $02F4
   105 CD78 AD 13 CF		    LDA PFIN+10
   106 CD7B 8D F3 02		    STA $02F3
   107 CD7E 60			    RTS
   108 CD7F			NEWDL
   109 CD7F A2 34		    LDX # <DLIST
   110 CD81 A9 CC		    LDA # >DLIST
   111 CD83 8E 30 02		    STX $0230
   112 CD86 8E 02 D4		    STX $D402
   113 CD89 8D 31 02		    STA $0231
   114 CD8C 8D 03 D4		    STA $D403
   115
   116 CD8F A9 22		    LDA #$22
   117 CD91 8D 2F 02		    STA $022F
   118 CD94 8D 00 D4		    STA $D400
   119
   120 CD97 A9 E0		    LDA #$E0
   121 CD99 8D F4 02		    STA $02F4
   122 CD9C 8D 09 D4		    STA $D409
   123
   124 CD9F A9 02		    LDA #$02
   125 CDA1 8D F3 02		    STA $02F3
   126 CDA4 8D 01 D4		    STA $D401
   127
   128 CDA7 A9 02		    LDA #$02
   129 				;    STA $D016
   130 CDA9 8D 18 D0		    STA $D018
   131 CDAC 8D 1A D0		    STA $D01A
   132 				;    LDX #$04
   133 				;COLORLOOP
   134 				;    LDA TABLA,X
   135 				;    STA $02C4,X
   136 				;    STA $D016,X
   137 				;    DEX
   138 				;    BPL COLORLOOP
   139 				;    LDX #<COLORDAT
   140 				;    LDY #>COLORDAT
   141 				;    LDA #$06
   142 				;    JSR $E45C
   143 				;    LDX #<?COLORDAT ;$DB
   144 				;    LDY #>?COLORDAT ;$CD
   145 				;    LDA #$C0
   146 				;    STX $0200
   147 				;    STY $0201
   148 				;    STA $D40E
   149 CDAF 60			    RTS
   150 				;COLORDAT
   151 				;    LDA #$00
   152 				;    STA NOSEPO
   153 				;    LDA $02C6
   154 				;    STA NOSEPO2
   155 				;    JMP $E45F
   156 				;?COLORDAT
   157 				;    PHA
   158 				;    TXA
   159 				;    PHA
   160 				;    LDX NOSEPO
   161 				;    LDA NOSEPO1,X
   162 				;    STA $D40A
   163 				;    STA $D01A
   164 				;    INC NOSEPO
   165 				;    PLA
   166 				;    TAX
   167 				;    PLA
   168 				;    RTI
   169 				;NOSEPO
   170 				;    .BY $00
   171 				;NOSEPO1
   172 				;    .BY $52,$72,$B4,$EA,$32
   173 				;NOSEPO2
   174 				;    .BY $FF,$FF
   175 CDB0			TABLA
   176 CDB0 28 CA 00 44 00	    .BY $28,$CA,$00,$44,$00
   177 CDB5			ERROR
   178 CDB5 A2 F4		    LDX #<merr  ;$F3
   179 CDB7 A9 CC		    LDA #>merr  ;$CC
   180 CDB9 8E 4F CC		    STX DLERR   ;$CC4E
   181 CDBC 8D 50 CC		    STA DLERR+1 ;$CC4F
   182 CDBF 20 C5 CD		    JSR VUELTA  ;$CE0E
   183 CDC2 4C 04 CE			JMP GRAB
   184 CDC5			VUELTA
   185 CDC5 A9 3C		    LDA #$3C
   186 CDC7 8D 02 D3		    STA $D302
   187 CDCA 18			    CLC
   188 CDCB A5 14		    LDA $14
   189 CDCD 69 1E		    ADC #$1E
   190 CDCF			SEARCH
   191 CDCF C5 14			CMP $14
   192 CDD1 D0 FC			BNE SEARCH
   193 CDD3 A9 34		    LDA #$34
   194 CDD5 8D 02 D3		    STA $D302
   195 CDD8 18			    CLC
   196 CDD9 A5 14		    LDA $14
   197 CDDB 69 14		    ADC #$14
   198 CDDD			SPEED
   199 CDDD C5 14		    CMP $14
   200 CDDF D0 FC		    BNE SPEED
   201 CDE1			SIGUE
   202 CDE1 A2 80		    LDX #$80
   203 CDE3 86 14		    STX $14
   204 CDE5			BUSCA
   205 CDE5 AD 0A D2		    LDA $D20A
   206 CDE8 8D 17 D0		    STA $D017
   207 CDEB AD 0F D2		    LDA $D20F
   208 CDEE 29 10		    AND #$10
   209 CDF0 F0 EF		    BEQ SIGUE
   210 CDF2 A6 14		    LDX $14
   211 CDF4 D0 EF		    BNE BUSCA
   212 CDF6 4C 7F CD		    JMP NEWDL
   213 CDF9			GBYTE
   214 CDF9 CC 24 CC		    CPY NBYTES
   215 CDFC F0 06		    BEQ GRAB
   216 CDFE 98			    TYA
   217 CDFF 59 03 07		    EOR BAFER+3,Y
   218 CE02 C8			    INY
   219 CE03 60			    RTS
   220 CE04			GRAB
   221 CE04 AD 0B D4		    LDA $D40B
   222 CE07 D0 FB		    BNE GRAB
   223 CE09 AD 09 CF		    LDA PFIN
   224 CE0C F0 54		    BEQ BYE
   225 CE0E 20 2B CD		    JSR LNEW
   226 CE11 20 7F CD		    JSR NEWDL
   227 CE14			?GRAB
   228 CE14 A2 0B		    LDX #$0B
   229 CE16			MSIO
   230 CE16 BD 28 CC		    LDA LSIOV,X
   231 CE19 9D 00 03		    STA $0300,X
   232 CE1C CA			    DEX
   233 CE1D 10 F7		    BPL MSIO
   234 CE1F 20 59 E4		    JSR $E459
   235 CE22 30 91		    BMI ERROR
   236 CE24 AD 02 07		    LDA BAFER+2
   237 CE27 CD 09 CF		    CMP PFIN
   238 CE2A 90 89		    BCC ERROR
   239 CE2C F0 03		    BEQ RETURN
   240 CE2E 4C 14 CE		    JMP ?GRAB
   241 CE31			RETURN
   242 CE31 A2 CC			LDX #<DERROR    ;$CB
   243 CE33 A9 CC		    LDA #>DERROR    ;$CC
   244 CE35 8E 4F CC		    STX DLERR   ;$CC4E
   245 CE38 8D 50 CC		    STA DLERR+1 ;$CC4F
   246 CE3B AD FF 07		    LDA BAFER+255
   247 CE3E 8D 24 CC		    STA NBYTES
   248 CE41 A2 02		    LDX #$02
   249 CE43			C01
   250 CE43 BD D9 CC		    LDA CONTADOR,X
   251 CE46 C9 10		    CMP #$10
   252 CE48 D0 08		    BNE C02
   253 CE4A A9 19		    LDA #$19
   254 CE4C 9D D9 CC		    STA CONTADOR,X
   255 CE4F CA			    DEX
   256 CE50 10 F1		    BPL C01
   257 CE52			C02
   258 CE52 DE D9 CC		    DEC CONTADOR,X
   259 CE55 20 55 CD		    JSR NEWL
   260 CE58 CE 09 CF		    DEC PFIN
   261 CE5B A0 00		    LDY #$00
   262 CE5D 84 4D		    STY $4D
   263 CE5F 4C F9 CD		    JMP GBYTE
   264 CE62			BYE
   265 CE62 20 1C CD		    JSR TIEMPO
   266 CE65 A9 4C		    LDA #$4C
   267 CE67 8D FD CE		    STA RUTINA+10   ;$CF46
   268 CE6A A9 E0		    LDA #$E0
   269 CE6C 8D 07 CF		    STA RUTINA+20   ;$CF50
   270 CE6F A2 00		    LDX #$00
   271 CE71 9A			    TXS
   272 CE72 4C E5 CE		    JMP RINIT   ;$CF2E
   273 CE75			START
   274 CE75 AC 24 CC		    LDY NBYTES
   275 CE78 20 10 CC		    JSR ?INICIO
   276 CE7B AD 9C CE		    LDA MEMORY+1
   277 CE7E AC 9D CE		    LDY MEMORY+2
   278 CE81 8D E0 02		    STA $02E0
   279 CE84			?START
   280 CE84 8C E1 02			STY $02E1
   281 CE87 A0 00			LDY #$00
   282 CE89			LOOP
   283 CE89 20 10 CC			JSR ?INICIO
   284 CE8C 20 F9 CD		    JSR GBYTE
   285 CE8F 8D 26 CC		    STA FINISH
   286 CE92 20 F9 CD		    JSR GBYTE
   287 CE95 8D 27 CC		    STA FINISH+1
   288 CE98			MBTM
   289 CE98 20 F9 CD		    JSR GBYTE
   290 CE9B			MEMORY
   291 CE9B 8D FF FF		    STA $FFFF
   292 CE9E AD 9C CE		    LDA MEMORY+1
   293 CEA1 CD 26 CC		    CMP FINISH
   294 CEA4 D0 08		    BNE OK
   295 CEA6 AD 9D CE		    LDA MEMORY+2
   296 CEA9 CD 27 CC		    CMP FINISH+1
   297 CEAC F0 0B		    BEQ VERFIN
   298 CEAE			OK
   299 CEAE EE 9C CE		    INC MEMORY+1
   300 CEB1 D0 03		    BNE NIM
   301 CEB3 EE 9D CE		    INC MEMORY+2
   302 CEB6			NIM
   303 CEB6 4C 98 CE		    JMP MBTM
   304 CEB9			VERFIN
   305 CEB9 AD E2 02		    LDA $02E2
   306 CEBC 0D E3 02		    ORA $02E3
   307 CEBF F0 C8		    BEQ LOOP
   308 CEC1 A2 F0		    LDX #$F0
   309 CEC3 9A			    TXS
   310 CEC4 8C 25 CC		    STY FLAGY
   311 CEC7 20 1C CD		    JSR TIEMPO
   312 CECA 20 55 CD		    JSR NEWL
   313 CECD 20 E5 CE		    JSR RINIT
   314 CED0 20 2B CD		    JSR LNEW
   315 CED3 20 C5 CD		    JSR VUELTA
   316 CED6 AC 25 CC		    LDY FLAGY
   317 CED9 A2 00		    LDX #$00
   318 CEDB 9A			    TXS
   319 CEDC 8E E2 02		    STX $02E2
   320 CEDF 8E E3 02		    STX $02E3
   321 CEE2 4C 89 CE		    JMP LOOP
   322 CEE5			RINIT
   323 CEE5 A2 15		    LDX #PFIN-RUTINA-1
   324 CEE7			MVRUT
   325 CEE7 BD F3 CE		    LDA RUTINA,X
   326 CEEA 9D 00 08		    STA BUFAUX,X
   327 CEED CA			    DEX
   328 CEEE 10 F7		    BPL MVRUT
   329 CEF0 4C 00 08		    JMP BUFAUX
   330 CEF3			RUTINA
   331 CEF3 A9 3C		    LDA #$3C
   332 CEF5 8D 02 D3		    STA $D302
   333 CEF8 A9 FF		    LDA #$FF
   334 CEFA 8D 01 D3		    STA $D301
   335 CEFD			?RUTINA
   336 CEFD 20 13 08			JSR BUFAUX+19
   337 CF00 A9 FE			LDA #$FE
   338 CF02 8D 01 D3			STA $D301
   339 CF05 60			    RTS
   340 CF06			JUMP
   341 CF06 6C E2 02		    JMP ($02E2)
   342 CF09			PFIN
   343 CF09 00 00 00 00 00 00	    .BY $00,$00,$00,$00,$00,$00
   344 CF0F 00 00 00 00 00	    .BY $00,$00,$00,$00,$00
   345 CF14			RECUPERO
   346 CF14 A2 00			LDX #$00
   347 CF16 A0 08			LDY #$08
   348 CF18 86 0C			STX $0C
   349 CF1A 84 0D			STY $0D
   350 CF1C AE FC CF			LDX $CFFC
   351 CF1F AC FD CF			LDY $CFFD
   352 CF22 8E 30 02			STX $0230
   353 CF25 8C 31 02			STY $0231
   354 CF28 20 2B CD		    JSR LNEW
   355 CF2B A2 13		    LDX #$13
   356 CF2D			RECUPERO2
   357 CF2D BD 67 CF		    LDA FINRECUPERO+0,X
   358 CF30 9D B8 CC		    STA NAME,X
   359 CF33 CA			    DEX
   360 CF34 10 F7		    BPL RECUPERO2
   361 CF36 A2 02		    LDX #$02
   362 CF38			RECUPERO3
   363 CF38 BD 7B CF		    LDA FINRECUPERO+20,X
   364 CF3B 9D D9 CC		    STA CONTADOR,X
   365 CF3E CA			    DEX
   366 CF3F 10 F7		    BPL RECUPERO3
   367 CF41 A2 03		    LDX #$03
   368 CF43 AD 7E CF		    LDA FINRECUPERO+23
   369 CF46 86 41		    STX $41
   370 CF48 8D 09 CF		    STA PFIN
   371 CF4B			REVISO
   372 CF4B A2 05		    LDX #5
   373 CF4D BD 54 CC		    LDA MENSAJE,x
   374 CF50 C9 F2		    CMP #$F2
   375 CF52 F0 03		    BEQ RECUPERO04
   376 CF54 4C 54 CF		    JMP *
   377 CF57			RECUPERO04
   378 CF57 A0 7F		    LDY #$7F
   379 CF59 A9 00		    LDA #$00
   380 CF5B			RECUPERO4
   381 CF5B 99 00 04		    STA $0400,Y
   382 CF5E 88			    DEY
   383 CF5F 10 FA		    BPL RECUPERO4
   384 CF61 20 7F CD		    JSR NEWDL
   385 CF64 4C 55 CD		    JMP NEWL
   386 CF67			FINRECUPERO
   387 				.endp
    38 = 2100			MENSAJE = [[loader.MENSAJE - loader] + LOAD]
    39 = 2150			TITLO01 = [[loader.TITLO01 - loader] + LOAD]
    40 2413			NME
    41 2413 2E 2E 2E 2E 2E 2E +     .BY '....................'
    42 2427			BLQ
    43 2427 2E 2E 2E		    .BYTE '...'
    44 242A			PFIN
    45 242A 00				.BY 0
    46 242B			PAG7
    47 242B				icl "paginas/P7.ASM"
Source: P7.ASM
     1 				//	icl "../base/sys_equates.m65"
     2
     3
     4 = 00E0			l_pag7=[.len pagina7]
     5
     6 242B			.proc pagina7,$0700
     7 0700			INICIO
     8 0700 00				.by 0
     9 0701 02				.by [l_pag7+127]/128
    10 0702 00 07 DD 07			.wo INICIO,FIN7
    11 0706 20 34 07			jsr KEM7
    12 0709 AE 30 02			ldx $0230
    13 070C AC 31 02			ldy $0231
    14 070F 8E FC CF			stx $CFFC
    15 0712 8C FD CF			sty $CFFD
    16 0715 A2 B1			ldx #<DLS7
    17 0717 A0 07			ldy #>DLS7
    18 0719 A9 00			lda #$00
    19 071B 8E 30 02			stx $0230
    20 071E 8E 02 D4			stx $D402
    21 0721 8C 31 02			sty $0231
    22 0724 8C 03 D4			sty $d403
    23 					;sta $41
    24 0727 20 66 07			jsr INJK7
    25 072A A2 90			ldx #$90
    26 072C A0 00			ldy #$00
    27 072E 20 CE 07			jsr PAUSA7
    28 0731 4C 00 04			jmp $0400
    29 0734			KEM7        
    30 0734 A2 C0			ldx #$C0
    31 0736 A0 00			ldy #$00
    32 0738 78				sei
    33 0739 8C 0E D4			sty $D40E
    34 073C 86 CC			stx $CC
    35 073E 84 CB			sty $CB
    36 0740			LOOP7       
    37 0740 B1 CB			lda ($CB),Y
    38 0742 CE 01 D3			dec $D301
    39 0745 91 CB			sta ($CB),Y
    40 0747 EE 01 D3			inc $D301
    41 074A C8				iny
    42 074B D0 F3			bne LOOP7
    43 074D E6 CC			inc $CC
    44 074F F0 0C			beq EXIT7
    45 0751 A5 CC			lda $CC
    46 0753 C9 D0			cmp #$D0
    47 0755 D0 E9			bne LOOP7
    48 0757 A9 D8			lda #$D8
    49 0759 85 CC			sta $CC
    50 075B D0 E3			bne LOOP7
    51 075D			EXIT7       
    52 075D CE 01 D3			dec $D301
    53 0760 58				cli
    54 0761 38				sec
    55 0762 4E 0E D4			lsr $D40E
    56 0765 60				rts
    57 0766			INJK7       
    58 0766 A2 17			ldx #$17
    59 0768			?INJK7      
    60 0768 BD 99 07			lda FINAL7,X
    61 076B 9D 3D ED			sta $ED3D,X
    62 076E CA				dex
    63 076F 10 F7			bpl ?INJK7
    64 0771 A9 12			lda #$12
    65 0773 8D E2 EB			sta $EBE2
    66 0776 A9 60			lda #$60
    67 0778 8D FC FD			sta $FDFC
    68 077B A9 04			lda #$04
    69 077D 85 2A			sta $2A
    70 077F A9 80			lda #$80
    71 0781 85 2B			sta $2B
    72 0783 A9 0C			lda #$0C
    73 0785 8D FC 02			sta $02FC
    74 0788 A6 62			ldx $62
    75 078A A9 01			lda #$01
    76 078C 9D 93 FE			sta $FE93,X
    77 078F A9 00			lda #$00
    78 0791 9D 91 FE			sta $FE91,X
    79 0794 A2 10			ldx #$10
    80 0796 4C E6 FC			jmp $FCE6
    81 0799			FINAL7      
    82 0799 8F 06 D2 8F 31 00		.by $8F,$06,$D2,$8F,$31,$00
    83 079F 8F 0F D2 18 EB 27		.by $8F,$0F,$D2,$18,$EB,$27
    84 07A5 AA 8F 04 D2 AF 32		.by $AA,$8F,$04,$D2,$AF,$32
    85 07AB 02 8F 0F D2 18 60		.by $02,$8F,$0F,$D2,$18,$60
    86 07B1			DLS7        
    87 07B1 70 70 70 46			.by $70,$70,$70,$46
    88 07B5 BA 07			.wo SHOW7
    89 07B7 41				.by $41
    90 07B8 B1 07			.wo DLS7
    91 07BA			SHOW7 
    92 07BA 0A 0A 0A 0A 0A 0A + 	.sb '********************'
    93 07CE			PAUSA7      
    94 07CE 8E 1C 02			stx $021C
    95 07D1 8C 1D 02			sty $021D
    96 07D4			?PAUSA7     
    97 07D4 AD 1C 02			lda $021C
    98 07D7 0D 1D 02			ora $021D
    99 07DA D0 F8			bne ?PAUSA7
   100 07DC 60				rts
   101 07DD			FIN7        
   102 07DD 6C 04 03			jmp ($0304)
   103 				.endp
    48 = 24E5			SHOW7 = [[pagina7.SHOW7 - pagina7] + PAG7]
    49 250B			PAG4
    50 250B				icl "paginas/P4.ASM"
Source: P4.ASM
     1 				//	icl "../base/sys_equates.m65"
     2
     3 				;
     4 = 03FD			pagina4_init=$03FD
     5 				//	org pagina4_init
     6 250B			.proc pagina4,$03FD
     7 = 0047			GENDAT = $47
     8 03FD 55 55 FE			.BYTE $55,$55,$FE
     9 0400			INICIO
    10 0400 AD 01 D3			lda $D301
    11 0403 29 02			and #$02
    12 0405 F0 12			beq ERROR4
    13 0407 A2 0B			ldx #$0B
    14 0409			MOVE4
    15 0409 BD 53 04			lda SIOV4,X
    16 040C 9D 00 03			sta $0300,X
    17 040F CA				dex
    18 0410 10 F7			bpl MOVE4
    19 0412 20 59 E4			jsr $E459
    20 0415 30 02			bmi ERROR4
    21 0417 18				clc
    22 0418 60				rts
    23 0419			ERROR4      
    24 0419 AE FC CF			ldx $CFFC
    25 041C AC FD CF			ldy $CFFD
    26 041F 8E 30 02			stx $0230
    27 0422 8C 31 02			sty $0231
    28 0425 A0 00			ldy #$00
    29 0427			LER4        
    30 0427 B9 38 04			lda TABLA4,Y
    31 042A 91 58			sta ($58),Y
    32 042C C8				iny
    33 042D C0 1B			cpy #$1B
    34 042F D0 F6			bne LER4
    35 0431 A9 3C			lda #$3C
    36 0433 8D 02 D3			sta $D302
    37 0436			LOOP4       
    38 0436 D0 FE			bne LOOP4
    39 0438			TABLA4      
    40 0438 A5 B2 B2 AF B2		.sb +128,'ERROR'
    41 043D 01 01 01 01 00 23 + 	.SB '!!!! CA'
    42 0444 32 27 35 25 00 2E		.sb 'RGUE N'
    43 044A 35 25 36 21 2D 25		.sb 'UEVAME'
    44 0450 2E 34 25			.sb 'NTE'
    45 0453			SIOV4       
    46 0453 60 00 52 40			.by $60,$00,$52,$40
    47 0457 00 CC			.wo $CC00
    48 0459 23 00			.by $23,$00
    49 					;.wo $03bc		;
    50 045B 7F 03			.wo l_load
    51 045D 00 80			.by $00,$80
    52 045F			FIN
    53 				.endp
    51
    52 				; -------------------------
    53 				; DEFINICION DEL DISPLAY
    54 				; PARA DIRECTORIO
    55 				; -------------------------
    56 256D			?DIR
    57 256D 70 70 70 70 70 70 +     .BYTE $70,$70,$70,$70,$70,$70,$70,$70
    58 2575 46			    .BYTE $46
    59 2576 B2 27		    .WORD ???DIR
    60 2578 70 02 02 02 02 02 +     .BYTE $70,$02,$02,$02,$02,$02,$02,$02
    61 2580 02 02 41		    .BYTE $02,$02,$41
    62 2583 6D 25		    .WORD ?DIR
    63 2585			ROMECEANDO
    64 2585 E4 EF E7 E4 E1 F2	    .by $E4,$EF,$E7,$E4,$E1,$F2
    65 258B EB 00 69 6E 6A 65	    .by $EB,$00,$69,$6E,$6A,$65
    66 2591 6B 74 6F 72 00 11	    .by $6B,$74,$6F,$72,$00,$11
    67 2597 13 10		    .by $13,$10
    68 2599			DLS
    69 2599 70 70 70		:3  .by $70
    70 259C 46			    .by $46
    71 259D E6 25		    .WORD SHOW
    72 259F 70 70		:2	.by $70
    73 25A1 02 02 02 02 02 02 + :10  .by $02
    74 25AB 70 70 70 70		:4  .by $70
    75 25AF 06 70 06		    .by $06,$70,$06
    76 25B2 41			    .by $41
    77 25B3 99 25		    .WORD DLS
    78 25B5			dlserror
    79 25B5 70 70 70		:3  .by $70
    80 25B8 02			    .by $02
    81 25B9 BE 25		    .wo msjerror
    82 25BB 41			    .by $41
    83 25BC B5 25		    .wo dlserror
    84 25BE			msjerror
    85 25BE 25 32 32 2F 32 00 +     .sb "ERROR !!!"
    86 25C7 00 00 00 00 00 00 + :31 .sb " "
    87 25E6			SHOW
    88 25E6 0A 0A 0A 0A 0A 0A +     .sb "********************"
    89 25FA 51 52 52 52 52 52 +     .sb +32,"QRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRE"
    90 2622 7C 24 2F 27 23 2F +     .sb "|DOGCOPY INJEKTOR 130XE V1.1 ATARI 2021|"
    91 264A 41 52 52 52 52 52 +     .sb +32,"ARRRRRRRRRRRRRRRWRRRRRRRRRRRRRRRRRRRRRRD"
    92 2672 7C 34 29 34 35 2C +     .sb "|TITULO GENERAL | "
    93 2684			titgen
    94 2684 0A 0A 0A 0A 0A 0A +     .sb "******************** |"
    95 269A 7C 34 29 34 35 2C +     .sb "|TITULO JUEGO   | "
    96 26AC			titgam
    97 26AC 0A 0A 0A 0A 0A 0A +     .sb "******************** |"
    98 26C2 7C 26 35 25 2E 34 +     .sb "|FUENTE         | "
    99 26D4			FILE
   100 26D4 0A 0A 0A 0A 0A 0A +     .sb "******************** |"
   101 26EA 7C 22 39 34 25 33 +     .sb "|BYTES          | "
   102 26FC			BYTES
   103 26FC 0A 0A 0A 0A 0A 00 +     .sb "*****                |"
   104 2712 7C 22 2C 2F 31 35 +     .sb "|BLOQUES        | "
   105 2724			BLOQUES
   106 2724 0A 0A 0A 00 00 00 +     .sb "***                  |"
   107 273A 7C 23 2F 30 29 21 +     .sb "|COPIAS         | "
   108 274C			TOTALCOPIAS
   109 274C 0A 00 00 00 00 00 +     .sb "*                    |"
   110 2762 5A 52 52 52 52 52 +     .sb +32,"ZRRRRRRRRRRRRRRRXRRRRRRRRRRRRRRRRRRRRRRC"
   111 278A			namegen
   112 278A 0D 0D 21 23 21 00 +     .sb "--ACA VA EL TITULO--"
   113 279E			namegam
   114 279E 0D 0D 21 23 21 00 +     .sb "--ACA VA EL TITULO--"
   115 27B2			???DIR
   116 27B2 00 00 00 00 00 24 +     .SB "     DIRECTORIO     "
   117 27C6			??DIR
   118 27C6 00 00 00 00 00 00 + :400    .SB " "
   119 2956			RY
   120 2956 00 00			.BYTE 0,0
   121 2958			LEN
   122 2958 00 00		    .BYTE 0,0
   123 295A			CONT
   124 295A 00 00		    .BYTE 0,0
   125 295C			STARTF
   126 295C 00 00		    .BYTE 0,0
   127 295E			FINISH
   128 295E 00 00		    .BYTE 0,0
   129 2960			@BL4
   130 2960 00			    .BYTE 0
   131 2961			?FILE
   132 2961 44 3A		    .BYTE 'D:'
   133 2963			??FILE
   134 2963 20 20 20 20 20 20 +     .BYTE '                    '
   135 2977			BBLQS
   136 2977 30 30 30 9B		    .by '000',$9B
   137 297B			ALL
   138 297B 44 3A 2A 2E 2A 9B	    .BYTE 'D:*.*',$9B
   139 2981			DNHP
   140 2981 60 00 50 80		    .BYTE $60,$00,$50,$80
   141 2985 C6 27		    .WORD ??DIR
   142 2987 35 00 00 01 00 80	    .BYTE $35,$00,$00,$01,$00,$80
   143 298D			BAKBYT
   144 298D 10 10 10 10 10	    .SB "00000"
   145 2992			BAKBLQ
   146 2992 10 10 10		    .SB "000"
   147 2995			romceo
   148 2995 A2 13		    ldx #19
   149 2997			?romceo
   150 2997 BD 85 25		    lda ROMECEANDO,X
   151 299A 9D E6 25		    sta show,X
   152 299D 9D E5 24		    sta SHOW7,x
   153 29A0 9D 00 21		    sta MENSAJE,X
   154 29A3 CA			    dex
   155 29A4 10 F1		    bpl ?romceo
   156 29A6 60			    rts
   157 29A7			RESTORE
   158 29A7 A0 13		    LDY #$13
   159 29A9			?RESTORE
   160 29A9 A9 20		    LDA #$20
   161 29AB 99 63 29		    STA ??FILE,Y
   162 29AE A9 00		    LDA #$00
   163 29B0 99 9E 27		    STA namegam,Y
   164 29B3 99 D4 26		    STA FILE,Y
   165 29B6 99 AC 26		    sta titgam,y 
   166 29B9 99 84 26		    sta titgen,y
   167 29BC 99 8A 27		    sta namegen,y
   168 29BF 99 E6 25		    sta show,y 
   169 29C2 99 E5 24		    sta SHOW7,y
   170 29C5 99 50 21		    sta TITLO01,Y
   171 29C8 99 00 21		    sta MENSAJE,y
   172 29CB 88				DEY
   173 29CC 10 DB		    BPL ?RESTORE
   174 29CE A9 3F		    LDA #$3F
   175 29D0 8D AC 26		    STA titgam
   176 29D3 8D 84 26		    sta titgen
   177 29D6 8D D4 26		    STA FILE
   178 29D9 A9 10		    LDA #$10
   179 29DB 8D 4C 27		    sta totalcopias
   180 29DE A0 04		    LDY #$04
   181 29E0			RESNUM
   182 29E0 99 FC 26		    STA BYTES,Y
   183 29E3 88			    DEY
   184 29E4 10 FA		    BPL RESNUM
   185 29E6 8D 24 27		    STA BLOQUES
   186 29E9 8D 25 27		    STA BLOQUES+1
   187 29EC 8D 26 27		    STA BLOQUES+2
   188 29EF A9 FF		    LDA #$FF
   189 29F1 8D 01 D3		    STA $D301
   190 29F4 20 95 29		    jsr romceo
   191 29F7 60			    RTS
   192 29F8			ASCINT
   193 29F8 C9 20		    CMP #$20
   194 29FA 90 12		    BCC ADD64
   195 29FC C9 60		    CMP #$60
   196 29FE 90 13		    BCC SUB32
   197 2A00 C9 80		    CMP #$80
   198 2A02 90 12		    BCC REMAIN
   199 2A04 C9 A0		    CMP #$A0
   200 2A06 90 06		    BCC ADD64
   201 2A08 C9 E0		    CMP #$E0
   202 2A0A 90 07		    BCC SUB32
   203 2A0C B0 08		    BCS REMAIN
   204 2A0E			ADD64
   205 2A0E 18			    CLC
   206 2A0F 69 40		    ADC #$40
   207 2A11 90 03		    BCC REMAIN
   208 2A13			SUB32
   209 2A13 38			    SEC
   210 2A14 E9 20		    SBC #$20
   211 2A16			REMAIN
   212 2A16 60			    RTS
   213 2A17			SETCOPIAS
   214 2A17 20 7E 2B			JSR OPENK
   215 2A1A			?SETCOPIAS
   216 2A1A A2 64			LDX #<?COPIAS
   217 2A1C A0 2A			LDY #>?COPIAS
   218 2A1E A9 10			LDA #$10
   219 2A20 8E 28 02			STX $0228
   220 2A23 8C 29 02			STY $0229
   221 2A26 8D 1A 02			STA $021A
   222 2A29 A2 10			LDX #$10
   223 2A2B 20 56 E4			JSR $E456
   224 2A2E 48				PHA
   225 2A2F A9 00			LDA #$00
   226 2A31 8D 1A 02			STA $021A
   227 2A34 AD 4C 27			LDA TOTALCOPIAS
   228 2A37 29 7F			AND #$7F
   229 2A39 8D 4C 27			STA TOTALCOPIAS
   230 2A3C 68				PLA
   231 2A3D C9 2D			CMP #$2D
   232 2A3F F0 0B			BEQ MCOPIAS
   233 2A41 C9 3D			CMP #$3D
   234 2A43 F0 13			BEQ ?MCOPIAS
   235 2A45 C9 9B			CMP #$9B
   236 2A47 D0 D1			BNE ?SETCOPIAS
   237 2A49 4C B3 2A			JMP CLOSE
   238 2A4C			MCOPIAS
   239 2A4C AD 4C 27			LDA TOTALCOPIAS
   240 2A4F C9 19			CMP #$19
   241 2A51 F0 C7			BEQ ?SETCOPIAS
   242 2A53 EE 4C 27			INC TOTALCOPIAS
   243 2A56 D0 C2			BNE ?SETCOPIAS
   244 2A58			?MCOPIAS
   245 2A58 AD 4C 27			LDA TOTALCOPIAS
   246 2A5B C9 10			CMP #$10
   247 2A5D F0 BB			BEQ ?SETCOPIAS
   248 2A5F CE 4C 27			DEC TOTALCOPIAS
   249 2A62 D0 B6			BNE ?SETCOPIAS
   250 2A64			?COPIAS
   251 2A64 AD 4C 27			LDA TOTALCOPIAS
   252 2A67 49 80			EOR #$80
   253 2A69 8D 4C 27			STA TOTALCOPIAS
   254 2A6C A9 10			LDA #$10
   255 2A6E 8D 1A 02			STA $021A
   256 2A71 60				RTS
   257 2A72			CLS
   258 2A72 A2 C6		    LDX # <??DIR
   259 2A74 A0 27		    LDY # >??DIR
   260 2A76 86 CB		    STX PCRSR
   261 2A78 84 CC		    STY PCRSR+1
   262 2A7A A0 00		    LDY #$00
   263 2A7C A2 00		    LDX #$00
   264 2A7E			?CLS
   265 2A7E A9 00		    LDA #$00
   266 2A80 91 CB		    STA (PCRSR),Y
   267 2A82 C8			    INY
   268 2A83 D0 03		    BNE ??CLS
   269 2A85 E8			    INX
   270 2A86 E6 CC		    INC PCRSR+1
   271 2A88			??CLS
   272 2A88 C0 68		    CPY #$68	;$68
   273 2A8A D0 F2		    BNE ?CLS
   274 2A8C E0 01		    CPX #$01
   275 2A8E D0 EE		    BNE ?CLS
   276 2A90 60			    RTS
   277 2A91			OPEN
   278 2A91 A2 10		    LDX #$10
   279 2A93 A9 03		    LDA #$03
   280 2A95 9D 42 03		    STA $0342,X
   281 2A98 A9 63		    LDA # <??FILE
   282 2A9A 9D 44 03		    STA $0344,X
   283 2A9D A9 29		    LDA # >??FILE
   284 2A9F 9D 45 03		    STA $0345,X
   285 2AA2 A9 04		    LDA #$04
   286 2AA4 9D 4A 03		    STA $034A,X
   287 2AA7 A9 80		    LDA #$80
   288 2AA9 9D 4B 03		    STA $034B,X
   289 2AAC 20 56 E4		    JSR $E456
   290 2AAF 88			    DEY
   291 2AB0 D0 0B		    BNE DIR
   292 2AB2 60			    RTS
   293 2AB3			CLOSE
   294 2AB3 A2 10		    LDX #$10
   295 2AB5 A9 0C		    LDA #$0C
   296 2AB7 9D 42 03		    STA $0342,X
   297 2ABA 4C 56 E4		    JMP $E456
   298 2ABD			DIR
   299 2ABD 20 B3 2A		    JSR CLOSE
   300 2AC0 20 72 2A		    JSR CLS
   301 2AC3 A2 6D		    LDX # <?DIR
   302 2AC5 A0 25		    LDY # >?DIR
   303 2AC7 8E 30 02		    STX $0230
   304 2ACA 8C 31 02		    STY $0231
   305 2ACD A2 C6		    LDX # <??DIR
   306 2ACF A0 27		    LDY # >??DIR
   307 2AD1 86 CB		    STX PCRSR
   308 2AD3 84 CC		    STY PCRSR+1
   309 2AD5 A2 10		    LDX #$10
   310 2AD7 A9 03		    LDA #$03
   311 2AD9 9D 42 03		    STA $0342,X
   312 2ADC A9 7B		    LDA # <ALL
   313 2ADE 9D 44 03		    STA $0344,X
   314 2AE1 A9 29		    LDA # >ALL
   315 2AE3 9D 45 03		    STA $0345,X
   316 2AE6 A9 06		    LDA #$06
   317 2AE8 9D 4A 03		    STA $034A,X
   318 2AEB A9 00		    LDA #$00
   319 2AED 9D 4B 03		    STA $034B,X
   320 2AF0 20 56 E4		    JSR $E456
   321 2AF3 A9 07		    LDA #$07
   322 2AF5 9D 42 03		    STA $0342,X
   323 2AF8 A9 00		    LDA #$00
   324 2AFA 9D 48 03		    STA $0348,X
   325 2AFD 9D 49 03		    STA $0349,X
   326 2B00 8D 56 29		    STA RY
   327 2B03 8D 57 29		    STA RY+1
   328 2B06			LEDIR
   329 2B06 20 56 E4		    JSR $E456
   330 2B09 30 39		    BMI ?EXIT
   331 2B0B C9 9B		    CMP #$9b
   332 2B0D F0 29		    BEQ EXIT
   333 2B0F 20 F8 29		    JSR ASCINT
   334 2B12 AC 56 29		    LDY RY
   335 2B15 91 CB		    STA (PCRSR),Y
   336 2B17 EE 56 29		    INC RY
   337 2B1A D0 05		    BNE F0
   338 2B1C E6 CC		    INC PCRSR+1
   339 2B1E EE 57 29		    INC RY+1
   340 2B21			F0
   341 2B21 AC 57 29		    LDY RY+1
   342 2B24 C0 01		    CPY #$01
   343 2B26 D0 0D		    BNE F1
   344 2B28 AC 56 29		    LDY RY
   345 2B2B C0 68		    CPY #$68	;$68
   346 2B2D 90 06		    BCC F1
   347 2B2F 20 52 2B		    JSR PAUSE
   348 2B32 EE 56 29		    INC RY
   349 2B35			F1
   350 2B35 4C 06 2B		    JMP LEDIR
   351 2B38			EXIT
   352 2B38 EE 56 29		    INC RY
   353 2B3B EE 56 29		    INC RY
   354 2B3E EE 56 29		    INC RY
   355 2B41 4C 06 2B		    JMP LEDIR
   356 2B44			?EXIT
   357 2B44 20 B3 2A		    JSR CLOSE
   358 2B47 20 52 2B		    JSR PAUSE
   359 2B4A 20 72 2A		    JSR CLS
   360 2B4D 68			    PLA
   361 2B4E 68			    PLA
   362 2B4F 4C B3 2F		    JMP START
   363 2B52			PAUSE
   364 2B52 AD 1F D0		    LDA $d01f
   365 2B55 C9 06		    CMP #$06
   366 2B57 D0 F9		    BNE PAUSE
   367 2B59 20 72 2A		    JSR CLS
   368 2B5C A9 00		    LDA #$00
   369 2B5E 8D 56 29		    STA RY
   370 2B61 8D 57 29		    STA RY+1
   371 2B64 A9 C6		    LDA # <??DIR
   372 2B66 85 CB		    STA PCRSR
   373 2B68 A9 27		    LDA # >??DIR
   374 2B6A 85 CC		    STA PCRSR+1
   375 2B6C A2 10		    LDX #$10
   376 2B6E 60			    RTS
   377 2B6F			FLSH
   378 2B6F AC 56 29		    LDY RY
   379 2B72 B1 CB		    LDA (PCRSR),Y
   380 2B74 49 3F		    EOR #$3f
   381 2B76 91 CB		    STA (PCRSR),Y
   382 2B78 A9 10		    LDA #$10
   383 2B7A 8D 1A 02		    STA $021A
   384 2B7D 60			    RTS
   385 2B7E			OPENK
   386 2B7E A9 FF		    LDA #$ff
   387 2B80 8D FC 02		    STA $02fc
   388 2B83 A2 10		    LDX #$10
   389 2B85 A9 03		    LDA #$03
   390 2B87 9D 42 03		    STA $0342,X
   391 2B8A 9D 45 03		    STA $0345,X
   392 2B8D A9 26		    LDA #$26
   393 2B8F 9D 44 03		    STA $0344,X
   394 2B92 A9 04		    LDA #$04
   395 2B94 9D 4A 03		    STA $034A,X
   396 2B97 20 56 E4		    JSR $E456
   397 2B9A A9 07		    LDA #$07
   398 2B9C 9D 42 03		    STA $0342,X
   399 2B9F A9 00		    LDA #$00
   400 2BA1 9D 48 03		    STA $0348,X
   401 2BA4 9D 49 03		    STA $0349,X
   402 2BA7 8D 56 29		    STA RY
   403 2BAA 60			    RTS
   404 2BAB			RUTLEE
   405 2BAB A2 6F		    LDX # <FLSH
   406 2BAD A0 2B		    LDY # >FLSH
   407 2BAF A9 10		    LDA #$10
   408 2BB1 8E 28 02		    STX $0228
   409 2BB4 8C 29 02		    STY $0229
   410 2BB7 8D 1A 02		    STA $021A
   411 2BBA 20 7E 2B		    JSR OPENK
   412 2BBD			GETEC
   413 2BBD 20 56 E4		    JSR $E456
   414 2BC0 C9 7E		    CMP #$7E
   415 2BC2 D0 14		    BNE C0
   416 2BC4 AC 56 29		    LDY RY
   417 2BC7 F0 F4		    BEQ GETEC
   418 2BC9 A9 00		    LDA #$00
   419 2BCB 91 CB		    STA (PCRSR),Y
   420 2BCD A9 3F		    LDA #$3f		;$3F
   421 2BCF 88			    DEY
   422 2BD0 91 CB		    STA (PCRSR),Y
   423 2BD2 CE 56 29		    DEC RY
   424 2BD5 4C BD 2B		    JMP GETEC
   425 2BD8			C0
   426 2BD8 C9 9B		    CMP #$9b	;$9B
   427 2BDA F0 12		    BEQ C2
   428 2BDC 20 F8 29		    JSR ASCINT
   429 2BDF AC 56 29		    LDY RY
   430 2BE2 91 CB		    STA (PCRSR),Y
   431 2BE4 C0 14		    CPY #$14		;#14
   432 2BE6 F0 03		    BEQ C1
   433 2BE8 EE 56 29		    INC RY
   434 2BEB			C1
   435 2BEB 4C BD 2B		    JMP GETEC
   436 2BEE			C2
   437 2BEE 20 B3 2A		    JSR CLOSE
   438 2BF1 A9 00		    LDA #$00
   439 2BF3 8D 1A 02		    STA $021A
   440 2BF6 AC 56 29		    LDY RY
   441 2BF9 91 CB		    STA (PCRSR),Y
   442 2BFB 60			    RTS
   443 2BFC			REVISO
   444 2BFC A2 05		    ldx #5
   445 2BFE BD E6 25		    lda show,x
   446 2C01 C9 F2		    cmp #$F2
   447 2C03 F0 0D		    beq revisook
   448 2C05			revisoerror
   449 2C05 A2 B5		    ldx #<dlserror
   450 2C07 A0 25		    ldy #>dlserror
   451 2C09 8E 30 02		    stx $230
   452 2C0C 8C 31 02		    sty $231
   453 2C0F 4C 0F 2C		    jmp *
   454 2C12			revisook
   455 2C12 60			    RTS
   456 2C13			FGET
   457 2C13 A9 DF		    LDA #$DF
   458 2C15 8D 01 D3		    STA $D301
   459 2C18 A9 00		    LDA #$00
   460 2C1A 8D 58 29		    STA LEN
   461 2C1D 8D 59 29		    STA LEN+1
   462 2C20			LOPFGET
   463 2C20 A2 10		    LDX #$10
   464 2C22 A9 07		    LDA #$07
   465 2C24 9D 42 03		    STA $0342,X
   466 2C27 A9 00		    LDA # <BAFER
   467 2C29 9D 44 03		    STA $0344,X
   468 2C2C A9 40		    LDA # >BAFER
   469 2C2E 9D 45 03		    STA $0345,X
   470 2C31 A9 00		    LDA # <LENGHT
   471 2C33 9D 48 03		    STA $0348,X
   472 2C36 A9 40		    LDA # >LENGHT
   473 2C38 9D 49 03		    STA $0349,X
   474 2C3B			??FGET
   475 2C3B 20 56 E4		    JSR $E456
   476 2C3E 18			    CLC
   477 2C3F AD 58 29		    LDA LEN
   478 2C42 7D 48 03		    ADC $0348,X
   479 2C45 8D 58 29		    STA LEN
   480 2C48 AD 59 29		    LDA LEN+1
   481 2C4B 7D 49 03		    ADC $0349,X
   482 2C4E 8D 59 29		    STA LEN+1
   483 2C51 18			    CLC
   484 2C52 AD 01 D3		    LDA $D301
   485 2C55 69 04		    ADC #$04
   486 2C57 8D 01 D3		    STA $D301
   487 2C5A BD 49 03		    LDA $0349,X
   488 2C5D C9 40		    CMP # >LENGHT
   489 2C5F F0 BF		    BEQ LOPFGET
   490 2C61 C0 88		    CPY #$88	;$88
   491 2C63 F0 0C		    BEQ ?FGET
   492 2C65 20 B3 2A		    JSR CLOSE
   493 2C68 20 72 2A		    JSR CLS
   494 2C6B A2 00		    LDX #$00
   495 2C6D 9A			    TXS
   496 2C6E 4C B3 2F		    JMP START
   497 2C71			?FGET
   498 2C71 20 44 DA		    JSR ZFR0
   499 2C74 A9 FC		    LDA #$fc	;$FC
   500 2C76 85 D4		    STA FR0
   501 2C78 20 AA D9		    JSR IFP
   502 2C7B 20 B6 DD		    JSR FMOVE
   503 2C7E AD 58 29		    LDA LEN
   504 2C81 85 D4		    STA FR0
   505 2C83 AD 59 29		    LDA LEN+1
   506 2C86 85 D5		    STA FR0+1
   507 2C88 20 AA D9		    JSR IFP
   508 2C8B 20 C6 2C		    JSR PONBYTES
   509 2C8E 20 28 DB		    JSR FDIV
   510 2C91 20 DE 2C		    JSR PONBLOQUES
   511 2C94 20 D2 D9		    JSR FPI
   512 2C97 A5 D4		    LDA FR0
   513 2C99 48			    PHA
   514 2C9A C6 D4		    DEC FR0
   515 2C9C 20 AA D9		    JSR IFP
   516 2C9F 20 B6 DD		    JSR FMOVE
   517 2CA2 A9 FC		    LDA #$fc	;$FC
   518 2CA4 85 D4		    STA FR0
   519 2CA6 A9 00		    LDA #$00
   520 2CA8 85 D5		    STA FR0+1
   521 2CAA 20 AA D9		    JSR IFP
   522 2CAD 20 DB DA		    JSR FMUL
   523 2CB0 20 D2 D9		    JSR FPI
   524 2CB3 38			    SEC
   525 2CB4 AD 58 29		    LDA LEN
   526 2CB7 E5 D4		    SBC FR0
   527 2CB9 8D 5B 29		    STA CONT+1
   528 2CBC EE 5B 29		    INC CONT+1
   529 2CBF 68			    PLA
   530 2CC0 8D 5A 29		    STA CONT
   531 2CC3 A2 10		    LDX #$10
   532 2CC5 60			    RTS
   533 2CC6			PONBYTES
   534 2CC6 20 38 2D		    JSR NBYTES
   535 2CC9 8C 56 29		    STY RY
   536 2CCC A0 04		    LDY #$04
   537 2CCE			?PONBYTES
   538 2CCE BD 80 05		    LDA LBUFF,X
   539 2CD1 29 5F		    AND #$5F
   540 2CD3 99 FC 26		    STA BYTES,Y
   541 2CD6 88			    DEY
   542 2CD7 CA			    DEX
   543 2CD8 CE 56 29		    DEC RY
   544 2CDB 10 F1		    BPL ?PONBYTES
   545 2CDD 60			    RTS
   546 2CDE			PONBLOQUES
   547 2CDE 20 38 2D		    JSR NBYTES
   548 2CE1 8C 56 29		    STY RY
   549 2CE4 A0 02		    LDY #$02
   550 2CE6			?PONBLOQUES
   551 2CE6 BD 80 05		    LDA LBUFF,X
   552 2CE9 29 5F		    AND #$5F
   553 2CEB 99 24 27		    STA BLOQUES,Y
   554 2CEE 88			    DEY
   555 2CEF CA			    DEX
   556 2CF0 CE 56 29		    DEC RY
   557 2CF3 10 F1		    BPL ?PONBLOQUES
   558 2CF5 AD 26 27		    LDA BLOQUES+2
   559 2CF8 C9 19		    CMP #$19
   560 2CFA F0 1F		    BEQ ??PP0
   561 2CFC EE 26 27		    INC BLOQUES+2
   562 2CFF			PP0
   563 2CFF A0 02		    LDY #$02
   564 2D01			MVBLQ
   565 2D01 B9 24 27		    LDA BLOQUES,Y
   566 2D04 09 20		    ORA #$20
   567 2D06 99 77 29		    STA BBLQS,Y
   568 2D09 88			    DEY
   569 2D0A 10 F5		    BPL MVBLQ
   570 2D0C A2 77		    LDX # <BBLQS
   571 2D0E A0 29		    LDY # >BBLQS
   572 2D10 A9 00		    LDA #$00
   573 2D12 86 F3		    STX INBUFF
   574 2D14 84 F4		    STY INBUFF+1
   575 2D16 85 F2		    STA CIX
   576 2D18 4C 00 D8		    JMP AFP
   577 2D1B			??PP0
   578 2D1B A9 10		    LDA #$10
   579 2D1D 8D 26 27		    STA BLOQUES+2
   580 2D20 AD 25 27		    LDA BLOQUES+1
   581 2D23 C9 19		    CMP #$19
   582 2D25 F0 06		    BEQ ???PP0
   583 2D27 EE 25 27		    INC BLOQUES+1
   584 2D2A 4C FF 2C		    JMP PP0
   585 2D2D			???PP0
   586 2D2D A9 10		    LDA #$10
   587 2D2F 8D 25 27		    STA BLOQUES+1
   588 2D32 EE 24 27		    INC BLOQUES
   589 2D35 4C FF 2C		    JMP PP0
   590 2D38			NBYTES
   591 2D38 20 E6 D8		    JSR FASC
   592 2D3B A2 00		    LDX #$00
   593 2D3D A0 00		    LDY #$00
   594 2D3F AD 80 05		    LDA LBUFF
   595 2D42 C9 30		    CMP #$30	;'0
   596 2D44 D0 01		    BNE PL0
   597 2D46 E8			    INX
   598 2D47			PL0
   599 2D47 BD 80 05		    LDA LBUFF,X
   600 2D4A C9 80		    CMP #$80
   601 2D4C B0 09		    BCS PL1
   602 2D4E C9 2E		    CMP #$2E		;'.
   603 2D50 F0 06		    BEQ PL2
   604 2D52 E8			    INX
   605 2D53 C8			    INY
   606 2D54 4C 47 2D		    JMP PL0
   607 2D57			PL1
   608 2D57 60			    RTS
   609 2D58			PL2
   610 2D58 CA				DEX
   611 2D59 BD 80 05		    LDA LBUFF,X
   612 2D5C 09 80		    ORA #$80
   613 2D5E 9D 80 05		    STA LBUFF,X
   614 2D61 88			    DEY
   615 2D62 60			    RTS
   616 2D63			OPENC
   617 2D63 AD 0B D4			LDA $D40B
   618 2D66 D0 FB		    BNE OPENC
   619 2D68 A9 FE		    LDA #$FE
   620 2D6A 8D 01 D3		    STA $d301		;$02FC
   621 2D6D 20 3C 20			jsr preinj
   622 2D70 4C BB 30			jmp ?piratas
   623 2D73			PONDATA
   624 2D73 AD 24 27		    LDA BLOQUES
   625 2D76 8D 27 24		    STA BLQ
   626 2D79 AD 25 27		    LDA BLOQUES+1
   627 2D7C 8D 28 24		    STA BLQ+1
   628 2D7F AD 26 27		    LDA BLOQUES+2
   629 2D82 8D 29 24		    STA BLQ+2
   630 2D85 A0 13		    LDY #$13
   631 2D87			?PONDATA
   632 2D87 B9 9E 27			LDA namegam,Y
   633 2D8A 99 13 24			STA NME,Y
   634 2D8D 88				DEY
   635 2D8E 10 F7			BPL ?PONDATA   
   636 2D90 60			    RTS
   637 2D91			INITSIOV
   638 2D91 A0 0B		    LDY #$0B
   639 2D93			?INITSIOV
   640 2D93 B9 81 29		    LDA DNHP,Y
   641 2D96 99 00 03		    STA $0300,Y
   642 2D99 88			    DEY
   643 2D9A 10 F7		    BPL ?INITSIOV
   644 2D9C A9 00		    LDA #$00
   645 2D9E 85 4D		    STA $4d		;$4D
   646 2DA0 60			    RTS
   647 2DA1			AUTORUN
   648 2DA1 A2 2B		    LDX # <PAG7
   649 2DA3 A0 24		    LDY # >PAG7
   650 2DA5 A9 01		    LDA #$01
   651 2DA7 8E EE 2D		    STX MVPG7+1
   652 2DAA 8C EF 2D		    STY MVPG7+2
   653 2DAD 8D 60 29		    STA @BL4
   654 2DB0			FALTA
   655 2DB0 20 91 2D		    JSR INITSIOV
   656 2DB3 A2 C6		    LDX #<??DIR
   657 2DB5 A0 27		    LDY #>??DIR
   658 2DB7 8E 04 03		    STX $0304
   659 2DBA 8C 05 03		    STY $0305
   660 2DBD A2 83		    LDX #$83	; $83
   661 2DBF A0 00		    LDY #$00	; $00
   662 2DC1 8E 08 03		    STX $0308
   663 2DC4 8C 09 03		    STY $0309
   664 2DC7 A0 00		    LDY #$00
   665 2DC9 98			    TYA
   666 2DCA			CLBUF
   667 2DCA 99 C6 27		    STA ??DIR,Y
   668 2DCD C8			    INY
   669 2DCE C0 83		    CPY #$83	;$83
   670 2DD0 D0 F8		    BNE CLBUF
   671 2DD2 A9 55		    LDA #$55
   672 2DD4 8D C6 27		    STA ??DIR
   673 2DD7 8D C7 27		    STA ??DIR+1
   674 2DDA A2 FC		    LDX #$FC
   675 2DDC A0 7F		    LDY #$7f	;$7F
   676 2DDE CE 60 29		    DEC @BL4
   677 2DE1 10 07		    BPL NOFIN
   678 2DE3 A2 FA		    LDX #$FA
   679 2DE5 A0 60		    LDY #LAST
   680 2DE7 8C 48 28		    STY ??DIR+130
   681 2DEA			NOFIN
   682 2DEA 8E C8 27		    STX ??DIR+2
   683 2DED			MVPG7
   684 2DED B9 2B 24		    LDA PAG7,Y
   685 2DF0 99 C9 27		    STA ??DIR+3,Y
   686 2DF3 88			    DEY
   687 2DF4 10 F7		    BPL MVPG7
   688 2DF6 20 59 E4		    JSR $E459
   689 2DF9 A2 10		    ldx #$10
   690 2DFB A0 00		    ldy #$00
   691 2DFD 20 5C 2E		    jsr time
   692 2E00 18			    CLC
   693 2E01 AD EE 2D		    LDA MVPG7+1
   694 2E04 69 80		    ADC #$80
   695 2E06 8D EE 2D		    STA MVPG7+1
   696 2E09 AD EF 2D		    LDA MVPG7+2
   697 2E0C 69 00		    ADC #$00
   698 2E0E 8D EF 2D		    STA MVPG7+2
   699 2E11 AD 60 29		    LDA @BL4
   700 2E14 10 9A		    BPL FALTA
   701 2E16 60			    RTS
   702 2E17			GAUTO
   703 2E17 20 FC 2B		    jsr REVISO
   704 2E1A 20 A1 2D		    JSR AUTORUN
   705 2E1D 20 91 2D		    JSR INITSIOV
   706 2E20 A2 83		    LDX #$83
   707 2E22 A0 00		    LDY #$00
   708 2E24			?GAUTO
   709 2E24 8E 08 03		    STX $0308
   710 2E27 8C 09 03		    STY $0309
   711 2E2A A2 0B		    LDX # <PAG4
   712 2E2C A0 25		    LDY # >PAG4
   713 2E2E 8E 04 03		    STX $0304
   714 2E31 8C 05 03		    STY $0305
   715 2E34 20 59 E4		    JSR $E459
   716 2E37 20 89 20		    jsr injektor
   717 2E3A 20 91 2D		    JSR INITSIOV
   718 				;    LDX #$f0
   719 				;    ldy #$00
   720 				;    jsr time
   721 2E3D A2 7F		    ldx #<LLOAD
   722 2E3F A0 03		    ldy #>LLOAD
   723 2E41 8E 08 03		    STX $0308
   724 2E44 8C 09 03		    STY $0309
   725 2E47 A2 AC		    LDX # <LOAD
   726 2E49 A0 20		    LDY # >LOAD
   727 2E4B 8E 04 03		    STX $0304
   728 2E4E 8C 05 03		    STY $0305
   729 2E51 20 59 E4		    JSR $E459
   730 2E54 A2 10		    ldx #$10
   731 2E56 A0 00		    ldy #$00
   732 2E58 20 5C 2E		    jsr time
   733 2E5B 60			    RTS
   734 2E5C			time
   735 2E5C 8E 1C 02			stx $021c
   736 2E5F 8C 1D 02			sty $021d
   737 2E62			?time
   738 2E62 AD 1C 02			lda $021c
   739 2E65 0D 1D 02			ora $021d
   740 2E68 D0 F8			bne ?time
   741 2E6A 60				rts
   742 2E6B			REST
   743 2E6B A0 04		    LDY #$04
   744 2E6D			??REST
   745 2E6D B9 FC 26		    LDA BYTES,Y
   746 2E70 99 8D 29		    STA BAKBYT,Y
   747 2E73 88			    DEY
   748 2E74 10 F7		    BPL ??REST
   749 2E76 A0 02		    LDY #$02
   750 2E78			???REST
   751 2E78 B9 24 27		    LDA BLOQUES,Y
   752 2E7B 99 92 29		    STA BAKBLQ,Y
   753 2E7E 88			    DEY
   754 2E7F 10 F7		    BPL ???REST
   755 2E81 60			    RTS
   756 2E82			?REST
   757 2E82 A0 04		    LDY #$04
   758 2E84			????REST
   759 2E84 B9 8D 29		    LDA BAKBYT,Y
   760 2E87 99 FC 26		    STA BYTES,Y
   761 2E8A 88			    DEY
   762 2E8B 10 F7		    BPL ????REST
   763 2E8D A0 02		    LDY #$02
   764 2E8F			?????REST
   765 2E8F B9 92 29		    LDA BAKBLQ,Y
   766 2E92 99 24 27		    STA BLOQUES,Y
   767 2E95 88			    DEY
   768 2E96 10 F7		    BPL ?????REST
   769 2E98 AD 5A 29		    LDA CONT
   770 2E9B 8D 2A 24		    STA PFIN
   771 2E9E 60			    RTS
   772 2E9F			EXNHPUT
   773 2E9F 68			    PLA
   774 2EA0 68			    PLA
   775 2EA1 68			    PLA
   776 2EA2 68			    PLA
   777 2EA3 60			    RTS
   778 2EA4			NHPUT
   779 2EA4 A9 55		    LDA #$55
   780 2EA6 8D C6 27		    STA ??DIR
   781 2EA9 8D C7 27		    STA ??DIR+1
   782 2EAC A9 FC		    LDA #$fc	;$FC
   783 2EAE 8D C5 28		    STA ??DIR+255
   784 2EB1 A9 DE		    lda #$de
   785 2EB3 8D 01 D3		    sta $d301
   786 2EB6 A2 00		    LDX # <BAFER
   787 2EB8 A0 40		    LDY # >BAFER
   788 2EBA 8E 35 2F		    STX M+1
   789 2EBD 8C 36 2F		    STY M+2
   790 2EC0 A2 00		    LDX #$00
   791 2EC2 A0 00		    LDY #$00
   792 2EC4 8C E2 02		    STY $02E2
   793 2EC7 20 CD 2E		    JSR GRABACION
   794 2ECA 4C E0 2E		    JMP ?MVBF
   795 2ECD			GRABACION
   796 2ECD AD 2A 24		    LDA PFIN
   797 2ED0 8D C8 27		    STA ??DIR+2
   798 2ED3 F0 CA		    BEQ EXNHPUT
   799 2ED5 C9 01		    CMP #$01
   800 2ED7 D0 06		    BNE RETURN
   801 2ED9 AD 5B 29		    LDA CONT+1
   802 2EDC 8D C5 28		    STA ??DIR+255
   803 2EDF			RETURN
   804 2EDF 60			    RTS
   805 2EE0			?MVBF
   806 2EE0 20 2E 2F		    JSR GBYTE
   807 2EE3 8D 5C 29		    STA STARTF
   808 2EE6 20 2E 2F		    JSR GBYTE
   809 2EE9 8D 5D 29		    STA STARTF+1
   810 2EEC 2D 5C 29		    AND STARTF
   811 2EEF C9 FF		    CMP #$FF
   812 2EF1 F0 ED		    BEQ ?MVBF
   813 2EF3 20 2E 2F		    JSR GBYTE
   814 2EF6 8D 5E 29		    STA FINISH
   815 2EF9 20 2E 2F		    JSR GBYTE
   816 2EFC 8D 5F 29		    STA FINISH+1
   817 2EFF			NHLOP
   818 2EFF 20 2E 2F		    JSR GBYTE
   819 2F02 AD 5C 29		    LDA STARTF
   820 2F05 C9 E3		    CMP #$E3
   821 2F07 D0 0A		    BNE ?NHLOP
   822 2F09 AD 5D 29		    LDA STARTF+1
   823 2F0C C9 02		    CMP #$02
   824 2F0E D0 03		    BNE ?NHLOP
   825 2F10 8D E2 02		    STA $02E2
   826 2F13			?NHLOP
   827 2F13 AD 5C 29		    LDA STARTF
   828 2F16 CD 5E 29		    CMP FINISH
   829 2F19 D0 08		    BNE NHCONT
   830 2F1B AD 5D 29		    LDA STARTF+1
   831 2F1E CD 5F 29		    CMP FINISH+1
   832 2F21 F0 BD		    BEQ ?MVBF
   833 2F23			NHCONT
   834 2F23 EE 5C 29		    INC STARTF
   835 2F26 D0 03		    BNE NOHI
   836 2F28 EE 5D 29		    INC STARTF+1
   837 2F2B			NOHI
   838 2F2B 4C FF 2E		    JMP NHLOP
   839 2F2E			GBYTE
   840 2F2E CC C5 28			CPY ??DIR+255
   841 2F31 F0 25		    BEQ EGRAB
   842 2F33 98			    TYA
   843 2F34			M
   844 2F34 5D 00 40		    EOR BAFER,X
   845 2F37 99 C9 27		    STA ??DIR+3,Y
   846 2F3A 98			    TYA
   847 2F3B 59 C9 27		    EOR ??DIR+3,Y
   848 2F3E C8			    INY
   849 2F3F E8			    INX
   850 2F40 D0 15		    BNE EXNHPIT
   851 2F42 EE 36 2F		    INC M+2
   852 2F45 10 10		    BPL EXNHPIT
   853 2F47 48			    PHA
   854 2F48 18			    CLC
   855 2F49 AD 01 D3		    LDA $D301
   856 2F4C 69 04		    ADC #$04
   857 2F4E 8D 01 D3		    STA $D301
   858 2F51 A9 40		    LDA # >BAFER
   859 2F53 8D 36 2F		    STA M+2
   860 2F56 68			    PLA
   861 2F57			EXNHPIT
   862 2F57 60			    RTS
   863 2F58			EGRAB
   864 2F58 CE 2A 24		    DEC PFIN
   865 2F5B 8A			    TXA
   866 2F5C 48			    PHA
   867 2F5D 20 91 2D		    JSR INITSIOV
   868 2F60 20 59 E4		    JSR $E459
   869 2F63 A2 10		    LDX #$10
   870 2F65 A0 00		    ldy #$00
   871 2F67 20 5C 2E		    jsr time
   872 2F6A A2 02		    ldx #$02
   873 2F6C			DECBL01
   874 2F6C BD 24 27		    LDA BLOQUES,X
   875 2F6F C9 10		    CMP #$10
   876 2F71 D0 08		    BNE DECBL02
   877 2F73 A9 19		    LDA #$19
   878 2F75 9D 24 27		    STA BLOQUES,X
   879 2F78 CA			    DEX
   880 2F79 10 F1		    BPL DECBL01
   881 2F7B			DECBL02
   882 2F7B DE 24 27		    DEC BLOQUES,X
   883 2F7E 68			    PLA
   884 2F7F AA			    TAX
   885 2F80 AD E2 02			LDA $02E2
   886 2F83 D0 08		    BNE SLOWB
   887 2F85			SIGUE
   888 2F85 20 CD 2E		    JSR GRABACION
   889 2F88 A0 00		    LDY #$00
   890 2F8A 4C 2E 2F		    JMP GBYTE
   891 2F8D			SLOWB
   892 2F8D 8A			    TXA
   893 2F8E 48			    PHA
   894 2F8F A2 5E		    LDX #$5e	;$015e
   895 2F91 A0 01		    LDY #$01
   896 2F93 8E 1C 02		    STX $021C
   897 2F96 8C 1D 02		    STY $021D
   898 2F99			IRG
   899 2F99 AD 1D 02		    LDA $021D
   900 2F9C D0 FB		    BNE IRG
   901 2F9E AD 1C 02		    LDA $021C
   902 2FA1 D0 F6		    BNE IRG
   903 2FA3 A9 00		    LDA #$00
   904 2FA5 8D E2 02		    STA $02E2
   905 2FA8 68			    PLA
   906 2FA9 AA			    TAX
   907 2FAA 4C 85 2F		    JMP SIGUE
   908 2FAD			DOS
   909 2FAD 6C 0C 00		    JMP ($0C)
   910 2FB0			@START
   911 2FB0 20 AD 2F			JSR DOS
   912 2FB3			START
   913 2FB3 A2 99		    LDX # <DLS
   914 2FB5 A0 25		    LDY # >DLS
   915 2FB7 8E 30 02		    STX $0230
   916 2FBA 8C 31 02		    STY $0231
   917 2FBD A9 02		    lda #$02
   918 2FBF 8D C6 02		    sta 710
   919 2FC2 8D C8 02		    sta 712
   920 2FC5 20 A7 29		    JSR RESTORE
   921 2FC8 20 FC 2B		    jsr REVISO
   922 				;ingresamos titulo general
   923 2FCB A2 84		    LDX # <titgen
   924 2FCD A0 26		    LDY # >titgen
   925 2FCF 86 CB		    STX PCRSR
   926 2FD1 84 CC		    STY PCRSR+1
   927 2FD3 20 AB 2B		    JSR RUTLEE
   928 2FD6 98			    TYA
   929 2FD7 F0 22		    BEQ NOTITLEG
   930 2FD9 4A			    LSR 
   931 2FDA 8D 57 29		    STA RY+1
   932 2FDD A9 0A		    LDA #$0a
   933 2FDF 38			    SEC
   934 2FE0 ED 57 29		    SBC RY+1
   935 2FE3 8D 57 29		    STA RY+1
   936 2FE6 A2 00		    LDX #$00
   937 2FE8 AC 57 29		    LDY RY+1
   938 2FEB			WRITEG
   939 2FEB BD 84 26		    LDA titgen,X
   940 2FEE 99 8A 27		    STA namegen,Y
   941 2FF1 99 50 21		    sta TITLO01,y
   942 2FF4 C8			    INY
   943 2FF5 E8			    INX
   944 2FF6 EC 56 29		    CPX RY
   945 2FF9 D0 F0		    BNE WRITEG
   946 2FFB			NOTITLEG
   947 				;ingresamos titul juego
   948 2FFB A2 AC		    LDX # <titgam
   949 2FFD A0 26		    LDY # >titgam
   950 2FFF 86 CB		    STX PCRSR
   951 3001 84 CC		    STY PCRSR+1
   952 3003 20 AB 2B		    JSR RUTLEE
   953 3006 98			    TYA
   954 3007 F0 1F		    BEQ NOTITLE
   955 3009 4A			    LSR 
   956 300A 8D 57 29		    STA RY+1
   957 300D A9 0A		    LDA #$0a
   958 300F 38			    SEC
   959 3010 ED 57 29		    SBC RY+1
   960 3013 8D 57 29		    STA RY+1
   961 3016 A2 00		    LDX #$00
   962 3018 AC 57 29		    LDY RY+1
   963 301B			WRITE
   964 301B BD AC 26		    LDA titgam,X
   965 301E 99 9E 27		    STA namegam,Y
   966 3021 C8			    INY
   967 3022 E8			    INX
   968 3023 EC 56 29		    CPX RY
   969 3026 D0 F3		    BNE WRITE
   970 3028			NOTITLE
   971 3028 A2 D4		    LDX # <FILE
   972 302A A0 26		    LDY # >FILE
   973 302C 86 CB		    STX PCRSR
   974 302E 84 CC		    STY PCRSR+1
   975 3030 20 AB 2B		    JSR RUTLEE
   976 3033 A0 13		    LDY #$13
   977 3035			CONV
   978 3035 B9 D4 26		    LDA FILE,Y
   979 3038 F0 14		    BEQ ?REMAIN
   980 303A 29 7F		    AND #$7F
   981 303C C9 40		    CMP #$40
   982 303E 90 06		    BCC ADD32
   983 3040 C9 60		    CMP #$60
   984 3042 90 07		    BCC SUB64
   985 3044 B0 08		    BCS ?REMAIN
   986 3046			ADD32
   987 3046 18			    CLC
   988 3047 69 20		    ADC #32
   989 3049 90 05		    BCC OKLET
   990 304B			SUB64
   991 304B 38			    SEC
   992 304C E9 40		    SBC #64
   993 304E			?REMAIN
   994 304E A9 9B		    LDA #$9B
   995 3050			OKLET
   996 3050 99 63 29		    STA ??FILE,Y
   997 3053 88			    DEY
   998 3054 10 DF		    BPL CONV
   999 3056 20 91 2A		    JSR OPEN
  1000 3059 20 13 2C		    JSR FGET
  1001 305C 20 B3 2A		    JSR CLOSE
  1002 305F 20 73 2D		    JSR PONDATA
  1003 3062 20 6B 2E		    JSR REST
  1004 3065			OTRACOPIA
  1005 3065 20 17 2A		    JSR SETCOPIAS
  1006 3068 20 82 2E		    JSR ?REST
  1007 306B 20 63 2D		    JSR OPENC
  1008 306E 20 17 2E		    JSR GAUTO
  1009 3071			?OTRACOPIA
  1010 3071 20 82 2E			JSR ?REST
  1011 3074 20 A4 2E		    JSR NHPUT
  1012 3077 A2 FE		    LDX #$fe
  1013 3079 A0 80		    LDY #$80
  1014 307B 86 13		    stx $13
  1015 307D 84 14		    sty $14
  1016 307F			??otracopia
  1017 307F A5 13			lda $13
  1018 3081 05 14			ora $14
  1019 3083 D0 FA			bne ??otracopia
  1020 3085 AD 4C 27			lda totalcopias
  1021 3088 29 0F			and #$0f
  1022 308A F0 05			beq ???otracopia
  1023 308C CE 4C 27			dec totalcopias
  1024 308F 10 E0			bpl ?OTRACOPIA
  1025 3091			???otracopia
  1026 3091 A2 3C			ldx #$3c
  1027 3093 A0 80			ldy #$80
  1028 3095 A9 03			lda #$03
  1029 3097 8D 0F D2			sta $d20f
  1030 309A 8E 02 D3			stx $d302
  1031 					;sty $4d
  1032 309D			WAIT
  1033 309D AD 1F D0		    LDA $d01f
  1034 30A0 C9 07		    CMP #$07
  1035 30A2 F0 F9		    BEQ WAIT
  1036 30A4 C9 06		    CMP #$06
  1037 30A6 F0 BD		    BEQ OTRACOPIA
  1038 30A8 C9 03		    CMP #$03
  1039 30AA D0 F1		    BNE WAIT
  1040 30AC 4C B3 2F		    JMP START
  1041 30AF			PIRATAS
  1042 				;    JSR CLOSE
  1043 				;    LDX # <OPENK
  1044 				;    LDY # >OPENK
  1045 				;    nop
  1046 				;    nop
  1047 				;    nop
  1048 30AF 20 B3 2A			jsr close
  1049 30B2 20 00 20		    JSR kkem
  1050 30B5 20 BB 30		    jsr ?piratas
  1051 30B8 4C B3 2F		    jmp start
  1052 30BB			?piratas
  1053 30BB A2 B0		    LDX # <@START
  1054 30BD A0 2F		    LDY # >@START
  1055 30BF A9 03		    LDA #$03
  1056 30C1 86 02		    STX $02
  1057 30C3 84 03		    STY $03
  1058 30C5 85 09		    STA $09
  1059 30C7 A0 FF		    LDY #$FF
  1060 30C9 84 08		    STY $08
  1061 30CB C8			    INY   
  1062 30CC 8C 44 02		    STY $0244
  1063 30CF 60			    rts
  1064 02E0-02E1> AF 30			RUN PIRATAS
